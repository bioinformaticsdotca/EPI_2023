"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_repos-file-tree-view_repos-file-tree-view_ts-ui_packages_use-analytics_use-analyt-c7d72e"],{24167:(e,t,n)=>{n.d(t,{Z:()=>a});function a({appendQuery:e,retainScrollPosition:t,returnTarget:n}){window.dispatchEvent(new CustomEvent("blackbird_monolith_append_and_focus_input",{detail:{appendQuery:e,retainScrollPosition:t,returnTarget:n}}))}},62834:(e,t,n)=>{n.d(t,{o:()=>u});var a=n(5225),r=n(88795),i=n(96235),l=n(60039),o=n(96540);async function s(e){let t=await (0,l.lS)(e);return t.ok?await t.json():void 0}let c=new Map,d=(0,a.A)(s,{cache:c});function u(e,t,n){let a=(0,r.t)(),[l,s]=(0,o.useState)({list:[],directories:[],loading:!0}),c=(0,i.ClY)({repo:a,commitOid:e,includeDirectories:!n});return(0,o.useEffect)(()=>{let e=!1,n=async()=>{s({list:[],directories:[],loading:!0});let t=await d(c);if(e)return;let n=t?.paths||[],a=t?.directories||[];s({list:n.concat(a).sort(),directories:a,error:!t})};return t&&n(),function(){e=!0}},[c,t,n]),l}},89276:(e,t,n)=>{n.d(t,{z:()=>WebWorker});var a=n(35750),r=n(18150),i=n(85242),l=n(50467);let WebWorker=class WebWorker{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){(0,l._)(this,"worker",void 0);try{this.worker=new Worker(`${e}?module=true`,{type:"module"})}catch{console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new MainThreadWorker(t)}}};var o=new WeakMap,s=new WeakMap;let MainThreadWorker=class MainThreadWorker{async postMessage(e){if((0,a._)(this,o))return;let t={data:(0,a._)(this,s).call(this,{data:e})};this.onmessage?.(t)}terminate(){(0,i._)(this,o,!0)}constructor(e){(0,r._)(this,o,{writable:!0,value:!1}),(0,l._)(this,"onmessage",void 0),(0,r._)(this,s,{writable:!0,value:void 0}),(0,i._)(this,s,e)}}},27406:(e,t,n)=>{n.d(t,{j:()=>l});var a=n(5225),r=n(91385);let i=(0,a.A)(r.fN);function l({data:e}){let{query:t,baseList:n,startTime:a}=e,l=t.replaceAll("\\","");return{query:t,list:n.filter(e=>{var t,n;return t=e,""===(n=l)||(0,r.qA)(n,t)&&i(n,t)>0}).sort((e,t)=>i(l,t)-i(l,e)),baseCount:n.length,startTime:a}}},8367:(e,t,n)=>{function a(e){return r(e)[0]}function r(e){let t=[];for(let n of function(){try{return document.cookie.split(";")}catch{return[]}}()){let[a,r]=n.trim().split("=");e===a&&void 0!==r&&t.push({key:a,value:r})}return t}function i(e,t,n=null,a=!1,r="lax"){let l=document.domain;if(null==l)throw Error("Unable to get document domain");l.endsWith(".github.com")&&(l="github.com");let o="https:"===location.protocol?"; secure":"",s=n?`; expires=${n}`:"";!1===a&&(l=`.${l}`);try{document.cookie=`${e}=${t}; path=/; domain=${l}${s}${o}; samesite=${r}`}catch{}}function l(e,t=!1){let n=document.domain;if(null==n)throw Error("Unable to get document domain");n.endsWith(".github.com")&&(n="github.com");let a=new Date(Date.now()-1).toUTCString(),r="https:"===location.protocol?"; secure":"",i=`; expires=${a}`;!1===t&&(n=`.${n}`);try{document.cookie=`${e}=''; path=/; domain=${n}${i}${r}`}catch{}}n.d(t,{OR:()=>r,Ri:()=>a,TV:()=>i,Yj:()=>l})},81367:(e,t,n)=>{n.d(t,{U:()=>i});let a=e=>{let t=getComputedStyle(e,null);return["overflow","overflow-y","overflow-x"].some(e=>{let n=t.getPropertyValue(e);return"auto"===n||"scroll"===n})},r=(e,t)=>e&&null!==e.parentNode?r(e.parentNode,t.concat([e])):t;function i(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(let t of r(e.parentNode,[]))if((t instanceof HTMLElement||t instanceof SVGElement)&&a(t))return t;return document.scrollingElement||document.documentElement}}},42658:(e,t,n)=>{n.d(t,{Nq:()=>V,H:()=>h,c2:()=>ec,Uy:()=>G,qn:()=>ev});var a=n(74848),r=n(21609),i=n(50104),l=n(63869),o=n(80663),s=n(38621),c=n(55847),d=n(34164),u=n(96540);let m={expandButton:"ExpandFileTreeButton-module__expandButton--gL4is",filesButtonBreakpoint:"ExpandFileTreeButton-module__filesButtonBreakpoint--WfX9t",Button_1:"ExpandFileTreeButton-module__Button_1--M2dXF"},p=u.forwardRef(({expanded:e,onToggleExpanded:t,className:n,ariaControls:u,textAreaId:p,useFilesButtonBreakpoint:f=!0,variant:h,getTooltipDirection:x},y)=>{let{toggleTreeShortcut:g}=(0,i.wk)(),[v]=(0,o.I)(()=>!1,!0,[]),w=x?.(e)??"se";return(0,a.jsxs)(a.Fragment,{children:[f&&(!e||v)&&(0,a.jsx)(c.Q,{"aria-label":"Expand file tree",leadingVisual:s.ArrowLeftIcon,"data-hotkey":g.hotkey,"data-testid":"expand-file-tree-button-mobile",ref:y,onClick:t,variant:h??"invisible",className:m.Button_1,children:"Files"}),(0,a.jsx)(l.L,{dataHotkey:g.hotkey,className:(0,d.$)(n,"position-relative",m.expandButton,{[m.filesButtonBreakpoint]:f&&(!e||v)}),expanded:e,alignment:"left",ariaLabel:e?"Collapse file tree":"Expand file tree",tooltipDirection:w,testid:"file-tree-button",ariaControls:u,ref:y,variant:h,onToggleExpanded:t}),(0,a.jsx)(r._,{buttonFocusId:p,buttonHotkey:g.hotkey,onButtonClick:t,onlyAddHotkeyScopeButton:!0})]})});p.displayName="ExpandFileTreeButton";var f=n(98637);function h({inputRef:e,onFindFilesShortcut:t,textAreaId:n}){let{sendRepoKeyDownEvent:l}=(0,f.T)(),{findFilesShortcut:o}=(0,i.wk)();return(0,a.jsx)(r._,{buttonFocusId:n,buttonHotkey:o.hotkey,onButtonClick:()=>{t?.(),e?.current?.focus(),l("GO_TO_FILE")}})}try{h.displayName||(h.displayName="FindFilesShortcut")}catch{}var x=n(2680),y=n(25925),g=n(85579),v=n(61763),w=n(21113),_=n(38007),b=n(96235),R=n(28391),N=n(68415),F=n(21325),T=n(60039),C=n(69676),k=n(75177),j=n(87330),I=n(93653),E=n(59214),S=n(53110),B=n(27104);let A=(0,u.createContext)({knownFolders:new Map,dispatchKnownFolders:()=>{}});try{A.displayName||(A.displayName="FileTreeContext")}catch{}let L={Pane:"ReposFileTreePane-module__Pane--wS7IV",HidePane:"ReposFileTreePane-module__HidePane--Gj4XZ",HidePaneWithTreeOverlay:"ReposFileTreePane-module__HidePaneWithTreeOverlay--fHI8k",Overlay:"ReposFileTreePane-module__Overlay--jlqn5",HideTree:"ReposFileTreePane-module__HideTree--zU_Nd",Box_1:"ReposFileTreePane-module__Box_1--Bz4Aw",Box_2:"ReposFileTreePane-module__Box_2--uC_pl",Box_3:"ReposFileTreePane-module__Box_3--Tgoja",Box_4:"ReposFileTreePane-module__Box_4--brBpx",IconButton:"ReposFileTreePane-module__IconButton--tNSTv",FileResultsList:"ReposFileTreePane-module__FileResultsList--t38MI",Box_5:"ReposFileTreePane-module__Box_5--tQNH_",Box_6:"ReposFileTreePane-module__Box_6--Z7NP1",Box_7:"ReposFileTreePane-module__Box_7--tn_qm",Box_8:"ReposFileTreePane-module__Box_8--kZEZY"};var O=n(141),P=n(4619),$=n(11251),D=n(26807),M=n(55864),W=n(63867);let H=(0,u.createContext)({});function V({children:e}){let t=(0,u.useRef)(!1),n=(0,u.useRef)(!1),r=(0,u.useRef)(!0),i=(0,u.useCallback)(e=>{t.current=e},[]),l=(0,u.useCallback)(e=>{n.current=e},[]),o=(0,u.useCallback)(e=>{r.current=e},[]),s=(0,u.useMemo)(()=>({expandAllFolders:t,refreshTree:n,shouldFetchFolders:r,setExpandAllFolders:i,setRefreshTree:l,setShouldFetchFolders:o}),[i,l,o]);return(0,a.jsx)(H.Provider,{value:s,children:e})}function G(){return(0,u.useContext)(H)}try{H.displayName||(H.displayName="FileTreeControlContext")}catch{}try{V.displayName||(V.displayName="FileTreeControlProvider")}catch{}var U=n(65556);function z(e,t,n){let a=[];for(let r of t)if(r.startsWith(e)){let t=r.slice(e.length+1),i=t.indexOf("/"),l=i>0?t.slice(0,i):t,o=`${e}/${l}`;if(n&&n.some(e=>e.path===o))continue;let s={items:[],data:{contentType:o===r?"file":"directory",name:l,path:o,isClientOnly:!0}};a.push(s)}return a}function q(e,t,n){e.data.name=e.data.name.slice(e.data.name.lastIndexOf("/")+1,e.data.name.length);let a=t.name.slice(0,t.name.lastIndexOf("/")),r=a.indexOf("/")>-1,i={path:t.path.slice(0,t.path.lastIndexOf("/")),contentType:t.contentType,name:a,hasSimplifiedPath:r},l={items:[e],data:i};return(n.set(i.path,l),r)?q(l,{...i},n):l}let K={Box:"ReposFileTreeView-module__Box--V2jWA",Box_1:"ReposFileTreeView-module__Box_1--ln7mT",Octicon:"ReposFileTreeView-module__Octicon--iZ0YO",Box_2:"ReposFileTreeView-module__Box_2--uFuxA"};function Z(e,t,n,a){if(!e)return{newRootItems:n,rootItemsUpdated:!1};let r=!!e[""]&&J("",t,n,e[""].items);for(let r of(a?.(n),Object.keys(e).sort()))if(r){let n=t.get(r);n&&(J(r,t,n.items,e[r].items,a),n.data.totalCount=e[r].totalCount)}return{newRootItems:n,rootItemsUpdated:r}}function J(e,t,n,a,r){let i=!1;for(let l of a){let a=e?`${e}/${l.name}`:l.name;if(!t.get(a)){let e={items:[],data:{...l}};if(t.set(a,e),l.hasSimplifiedPath){let a=q(e,l,t),o=n.findIndex(e=>e.data.path===a.data.path);-1!==o?a.items.length>n[o].items.length&&(n[o]=a,i=!0):(n.push(a),r?.(n))}else n.push(e),r?.(n)}}return i}function Y({isActive:e,file:t,onItemSelected:n,getItemUrl:r,selectedItemRef:i,navigate:l,onRenderRow:o,getFileTrailingVisual:c,getFileIcon:d}){let{sendRepoClickEvent:m}=(0,f.T)(),p=u.useRef(null),h=(0,$.Z)({focusRowRef:p,mouseRowRef:p}),x="submodule"===t.data.contentType,y=c?.(t.data),g=u.useCallback(a=>{x?(a.preventDefault(),t.data.submoduleUrl&&(window.location.href=t.data.submoduleUrl)):a.metaKey||a.ctrlKey||1===a.button?(window.open(r(t.data),"_blank"),a.preventDefault()):e?a.preventDefault():(n?.(),m("FILES_TREE.ITEM",{item_path:t.data.path}),l(r(t.data)),a.stopPropagation())},[t.data,r,e,x,l,n,m]);return o?.(),(0,a.jsxs)(M.G.Item,{ref:p,onSelect:g,current:e,id:`${t.data.path}-item`,containIntrinsicSize:e?void 0:"auto 2rem",children:[(0,a.jsx)(M.G.LeadingVisual,{children:d?d(t.data):x?(0,a.jsx)(s.FileSubmoduleIcon,{}):(0,a.jsx)(s.FileIcon,{})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{ref:i,style:{color:x?"var(--fgColor-accent, var(--color-accent-fg))":void 0},children:t.data.name}),h&&(0,a.jsx)(P.m,{"data-testid":`${t.data.name}-item-tooltip`,id:`${t.data.name}-item-tooltip`,contentRef:p,"aria-label":t.data.name,open:!0,direction:"ne"})]}),!!y?.screenReaderText&&(0,a.jsx)("span",{className:"sr-only",children:y.screenReaderText}),!!y?.trailingVisual&&(0,a.jsx)(M.G.TrailingVisual,{children:y.trailingVisual})]})}let X=u.memo(Y);function Q({clientOnlyFilePaths:e,directory:t,isActive:n,isAncestorOfActive:r,leadingPath:i="",onItemSelected:l,dispatchKnownFolders:o,getItemUrl:s,getFetchUrl:c,selectedItemRef:d,navigate:m,onRenderRow:p,getFileTrailingVisual:h,getFileIcon:x,navigateOnClick:y=!0}){let{expandAllFolders:g,shouldFetchFolders:v}=G(),[w,_]=(0,u.useState)(g?.current||r),{sendRepoClickEvent:b}=(0,f.T)(),R=u.useRef(null),N=u.useRef(null),F=(0,$.Z)({focusRowRef:N,mouseRowRef:R}),[C,k,j,I,E,S,B]=function(e,t,n){let[a,r]=u.useState(e.items),[i,l]=u.useState(e.data.totalCount||0),[o,s]=u.useState(!1),[c,d]=u.useState(!1),{safeSetTimeout:m}=(0,U.A)();u.useEffect(()=>{r(e.items)},[e.items]),u.useEffect(()=>{void 0!==e.data.totalCount&&l(e.data.totalCount)},[e.data.totalCount]);let p=u.useCallback(()=>{d(!1)},[]),f=u.useCallback((e,t)=>{let n=e||[...a];r(n.slice(0,100)),m(()=>{r(n),void 0!==t&&l(t)},1)},[a,m]);return[u.useCallback(async a=>{let i=new Map;if(e.data.isClientOnly){if(a){let n=z(e.data.path,a);for(let e of n)i.set(e.data.path,e);t({type:"add",folders:i,processingTime:0}),n.length>100?f(n,n.length):(r(n),l(n.length))}}else{let o=n(e.data);d(!1),s(!0);let c=Date.now(),u=await (0,T.lS)(`${o}?noancestors=1`);try{if(u.ok){let n=await u.json(),o=n.payload.tree.items.map(e=>{let t={items:[],data:{...e},autoExpand:"directory"===e.contentType&&1===n.payload.tree.items.length};return(i.set(e.path,t),e.hasSimplifiedPath)?q(t,e,i):t});if(a){let t=e.data.path,r=z(t,a,n.payload.tree.items);for(let e of(o.push(...r),r))i.set(e.data.path,e)}t({type:"add",folders:i,processingTime:Date.now()-c}),e.items=o,e.data.totalCount=n.payload.tree.totalCount,o.length>100?f(o,n.payload.tree.totalCount):(r(o),l(n.payload.tree.totalCount))}else d(!0)}catch{d(!0)}}s(!1)},[n,e,t,f]),f,a,o,c,p,i]}(t,o,c),A=B-j.length,L=i?`${i}/`:"";(0,u.useEffect)(()=>{g?.current&&!w&&_(!0)},[t,g,w]);let O=u.useCallback(a=>{g?.current&&(g.current=!1),a&&!w&&!I&&!E&&(t.items.length>100?k():0!==t.items.length||n||r||v?.current===!1||C(e)),a!==w&&_(a)},[g,w,I,E,t.items.length,n,r,v,k,C,e]),D=u.useCallback(e=>{e.metaKey||e.ctrlKey||1===e.button&&y?(window.open(s(t.data),"_blank"),e.preventDefault()):n?e.preventDefault():(l?.(),b("FILES_TREE.ITEM",{item_path:t.data.path}),y?m(s(t.data)):O?.(!w),e.stopPropagation())},[t.data,s,n,w,m,y,l,O,b]);u.useEffect(()=>{r&&!w&&O?.(!0)},[r]),u.useEffect(()=>{0===t.items.length&&w?O?.(!1):!w&&t.autoExpand&&O?.(!0)},[t.items.length]);let W=u.useCallback(e=>{d&&n&&d(e),R.current=e},[d,n]);return 1===t.items.length&&"directory"===t.items[0].data.contentType?(0,a.jsx)(en,{clientOnlyFilePaths:e,directoryItems:t.items,leadingPath:L+t.data.name,inheritsActive:n,dispatchKnownFolders:o,onItemSelected:l,selectedItemRef:d,getItemUrl:s,directoryNavigateOnClick:y,getFileTrailingVisual:h,getFileIcon:x}):(p?.(),(0,a.jsxs)(M.G.Item,{ref:N,expanded:w,onExpandedChange:O,current:n,onSelect:D,id:`${t.data.path}-item`,containIntrinsicSize:n?void 0:"auto 2rem",children:[(0,a.jsx)(M.G.LeadingVisual,{children:(0,a.jsx)(M.G.DirectoryIcon,{})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{ref:W,children:[L,t.data.name]}),F&&(0,a.jsx)(P.m,{"data-testid":`${t.data.name}-directory-item-tooltip`,id:`${t.data.name}-directory-item-tooltip`,contentRef:N,"aria-label":`${L}${t.data.name}`,open:!0,direction:"ne"})]}),(0,a.jsx)(M.G.SubTree,{state:I?"loading":E?"error":"done",children:E?(0,a.jsx)(M.G.ErrorDialog,{onRetry:C,onDismiss:S,children:"There was an error loading the folder contents."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(en,{clientOnlyFilePaths:e,directoryItems:j,dispatchKnownFolders:o,onItemSelected:l,selectedItemRef:d,getItemUrl:s,directoryNavigateOnClick:y,getFileTrailingVisual:h,getFileIcon:x}),A>0&&(0,a.jsx)(er,{message:`${A} entries not shown`})]})})]}))}let ee=u.memo(Q);function et({clientOnlyFilePaths:e,directoryItems:t,leadingPath:n,inheritsActive:r,onItemSelected:i,dispatchKnownFolders:l,selectedItemRef:o,onRenderRow:s,getItemUrl:c,getFileTrailingVisual:d,getFileIcon:m,directoryNavigateOnClick:p=!0}){let{path:f}=(0,O.eu)(),h=(0,w.Z)(),x=(0,D.Z)(),y=u.useRef(x);return(0,a.jsx)(a.Fragment,{children:t.map(t=>{let u=f===t.data.path,x=u||f.startsWith(`${t.data.path}/`);return"directory"===t.data.contentType?(0,a.jsx)(ee,{clientOnlyFilePaths:e,isActive:r||u,isAncestorOfActive:x,onItemSelected:i,leadingPath:n,directory:t,dispatchKnownFolders:l,getItemUrl:c,getFetchUrl:h.getItemUrl,selectedItemRef:x?o:void 0,navigate:y.current,onRenderRow:s,navigateOnClick:p,getFileTrailingVisual:d,getFileIcon:m,itemCount:t.items.length},t.data.name):(0,a.jsx)(X,{onItemSelected:i,file:t,isActive:u,getItemUrl:c,selectedItemRef:u?o:void 0,navigate:y.current,onRenderRow:s,getFileTrailingVisual:d,getFileIcon:m},t.data.name)})})}let en=u.memo(et);function ea(e){let{clientOnlyFilePaths:t,data:n,rootItems:r,setRootItems:i,fetchError:l,incompleteFileTree:o,processingTime:s,loading:c,onRenderRow:m,getItemUrl:p,getFileTrailingVisual:f,getFileIcon:h,sortDirectoryItems:x}=e,{knownFolders:y,dispatchKnownFolders:g}=(0,u.useContext)(A),{refreshTree:v}=G();u.useEffect(()=>{if(c)return;let e=new Map,t=[];v?.current||(e=new Map(y),t=r.slice());let{newRootItems:a,rootItemsUpdated:l}=Z(n,e,t,x);(a.length>r.length||l||v?.current)&&i(a),(e.size>y.size||v?.current)&&g({type:"set",folders:e,processingTime:s}),v?.current&&(v.current=!1)},[n,c]);let w=u.useCallback(e=>{1===e.button&&e.preventDefault()},[]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{onMouseDown:w,className:(0,d.$)(e.className,K.Box),"data-testid":"repos-file-tree-container",children:c?(0,a.jsx)("div",{className:K.Box_1,children:(0,a.jsx)(W.A,{"aria-label":"Loading file tree"})}):(0,a.jsx)("nav",{"aria-label":"File Tree Navigation",children:(0,a.jsxs)(M.G,{"aria-label":"Files",children:[l&&(0,a.jsx)(er,{message:"Some files could not be loaded."}),o&&(0,a.jsx)(er,{message:"Sign in to see the full file tree."}),(0,a.jsx)(en,{clientOnlyFilePaths:t,directoryItems:r,onItemSelected:e.onItemSelected,dispatchKnownFolders:g,selectedItemRef:e.selectedItemRef,onRenderRow:m,directoryNavigateOnClick:e.directoryNavigateOnClick,getItemUrl:p,getFileTrailingVisual:f,getFileIcon:h})]})})})})}function er({message:e}){return(0,a.jsxs)(M.G.Item,{id:"error-tree-row",children:[(0,a.jsx)(M.G.LeadingVisual,{children:(0,a.jsx)(S.A,{icon:s.AlertFillIcon,className:K.Octicon})}),(0,a.jsx)("div",{className:K.Box_2,children:e||"Couldn't load."})]})}try{Y.displayName||(Y.displayName="WrappedFileTreeRow")}catch{}try{X.displayName||(X.displayName="FileTreeRow")}catch{}try{Q.displayName||(Q.displayName="WrappedDirectoryTreeRow")}catch{}try{ee.displayName||(ee.displayName="DirectoryTreeRow")}catch{}try{et.displayName||(et.displayName="WrappedDirectoryContents")}catch{}try{en.displayName||(en.displayName="DirectoryContents")}catch{}try{ea.displayName||(ea.displayName="ReposFileTreeView")}catch{}try{er.displayName||(er.displayName="ErrorTreeRow")}catch{}var ei=n(24167);let el={IconButton:"SearchButton-module__IconButton--LGy8b"};function eo({sx:e,onClick:t,textAreaId:n}){let{searchShortcut:l}=(0,i.wk)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.K,{"aria-label":"Search this repository",tooltipDirection:"nw",icon:s.SearchIcon,"data-hotkey":l.hotkey,sx:e,size:"medium",onClick:e=>{t?.(),(0,ei.Z)({retainScrollPosition:!0,returnTarget:e.target.closest("button")})},className:el.IconButton}),(0,a.jsx)(r._,{buttonFocusId:n,buttonHotkey:l.hotkey,onButtonClick:()=>{let e=document.getElementById(n);t?.(),(0,ei.Z)({retainScrollPosition:!0,returnTarget:e??void 0})},onlyAddHotkeyScopeButton:!0})]})}try{eo.displayName||(eo.displayName="SearchButton")}catch{}let es=N.Gy.xxxlarge;function ec({clientOnlyFilePaths:e,collapseTree:t,showTree:n,fileTree:r,treeToggleElement:i,treeToggleRef:l,onItemSelected:c,processingTime:m,searchBoxRef:p,repo:f,path:_,refInfo:O,isFilePath:P,foldersToFetch:$,incompleteFileTree:D,id:M,onFindFilesShortcut:W,textAreaId:H,getItemUrlOverride:V,headerClassName:G,paneClassName:U,paneContentsClassName:z,treeContainerClassName:q,findFileWorkerPath:K,headerContent:J,getFileTrailingVisual:Y,getFileIcon:X,sortDirectoryItems:Q,showFindFile:ee=!0,directoryNavigateOnClick:et=!0,showRefSelectorRow:en=!0,paneResizable:er=!0}){if(ee&&void 0===K)throw Error("findFileWorkerPath must be provided when showFindFile is true");let{openPanel:ei}=(0,v.Ak)(),[el,ec]=u.useState($.length>0),[em,ep]=u.useState(!1),ef=u.useRef([]),eh=u.useRef(null),ex=u.useRef(!1),ey=u.useRef(!1),eg=u.useRef(null),{query:ev}=(0,g.JS)(),ew=u.useRef(ev);ew.current=ev;let{codeCenterOption:e_}=(0,F.ud)(),eb=u.useRef(ei),[eR]=(0,o.I)(()=>!1,!0,[]),{getItemUrl:eN}=(0,w.Z)(),eF=V||eN,eT=[],eC=new Map,ek=u.useRef(el);!ek.current&&r&&(eT=Z(r,eC,[],Q).newRootItems),ek.current=!0;let[ej,eI]=u.useReducer(ed,eC),[eE,eS]=u.useState(eT);u.useEffect(()=>{n&&(!ev||window.innerWidth>=N.Gy.large)||(eg.current=null)},[n,ev]),u.useEffect(()=>{ei&&eb.current!==ei&&window.innerWidth<es&&t({setPreference:!1}),eb.current=ei},[t,ei]);let eB=u.useCallback(async e=>{let t=eN({contentType:"directory",path:e,name:e});try{let n=await (0,T.lS)(`${t}?noancestors=1`);if(n.ok){let t=await n.json(),a={items:t.payload.tree.items,totalCount:t.payload.tree.totalCount};r[e]=a}else ep(!0)}catch{ep(!0)}ef.current.push(e),ef.current.length===$.length&&ec(!1)},[r,$.length,eN]);u.useEffect(()=>{if(D)ec(!1);else if($&&!ex.current)for(let e of $)eB(e);ex.current=!0},[eB,$,D,ej.size]);let eA=u.useCallback(e=>{n&&(!ew.current||window.innerWidth>=N.Gy.large)&&eh.current&&e&&(0,C.Rt)(e,eh.current,{endMargin:window.innerHeight/2,startMargin:window.innerHeight/2,behavior:"auto"})},[n]),eL=u.useCallback(e=>{e&&ey.current?ey.current=!1:eg.current!==e&&eA(e),eg.current=e},[eA]),eO=u.useCallback(e=>{eh.current=e,window.innerWidth>=es&&eA(eg.current)},[eA]),eP=u.useCallback(e=>{e&&eA(eg.current)},[eA]),{screenSize:e$}=(0,N.lm)(),eD=!eR&&(ei&&e$<es||e$<N.Gy.xlarge)&&e$>=N.Gy.large,eM=u.useCallback(()=>{eD||c(),ey.current=!0},[c,eD]),eW=P?_.substring(0,_.lastIndexOf("/")):_,eH=(0,u.useMemo)(()=>({knownFolders:ej,dispatchKnownFolders:eI}),[ej]),eV=u.useMemo(()=>eR?null:(0,B.KF)(),[eR]),eG=u.useCallback(()=>{window.innerWidth>N.Gy.large&&window.innerWidth<N.Gy.xxxxlarge&&t({setPreference:!1})},[t]),eU=(0,a.jsxs)(k.A,{id:M,sx:{maxHeight:"100%",height:"100%",display:"flex",flexDirection:"column","@media screen and (max-width: 768px)":eR?{display:"none"}:void 0,"@media screen and (min-width: 768px)":{maxHeight:"100vh",height:"100vh"}},className:z,children:[(0,a.jsxs)("div",{className:(0,d.$)(G,L.Box_1),children:[J,en&&(0,a.jsxs)("div",{className:L.Box_2,children:[(0,a.jsx)("div",{className:L.Box_3,children:(0,a.jsx)(y.R,{buttonClassName:"react-repos-tree-pane-ref-selector width-full ref-selector-class",allowResizing:!0})}),(0,a.jsxs)("div",{className:L.Box_4,children:[O.canEdit&&(0,a.jsx)(j.K,{"aria-label":"Add file",tooltipDirection:"n",as:R.N,icon:s.PlusIcon,to:(0,b.IO9)({repo:f,path:eW,commitish:O.name,action:"new"}),onClick:eM,className:L.IconButton}),(0,a.jsx)(eo,{sx:O.canEdit?{borderTopLeftRadius:0,borderBottomLeftRadius:0}:void 0,onClick:eG,textAreaId:H})]})]})]}),O.currentOid&&ee&&K&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.default,{commitOid:O.currentOid,findFileWorkerPath:K,onItemSelected:c,searchBoxRef:p,sx:{"@media screen and (max-width: 768px)":eR?{display:"none"}:void 0},className:L.FileResultsList}),(0,a.jsx)(h,{inputRef:p,onFindFilesShortcut:W,textAreaId:H})]}),(0,a.jsx)(eu,{scrollingRef:eh}),(0,a.jsxs)(k.A,{ref:eO,sx:{"@media screen and (max-width: 768px)":eR?{display:"none"}:void 0},className:L.Box_5,children:[eR?O.currentOid&&(0,a.jsx)("div",{className:ev?"react-tree-show-tree-items-on-large-screen":"react-tree-show-tree-items",children:(0,a.jsx)(ea,{clientOnlyFilePaths:e,data:r,rootItems:eE,selectedItemRef:eL,setRootItems:eS,onItemSelected:eM,processingTime:m,loading:el,fetchError:em,incompleteFileTree:D,directoryNavigateOnClick:et,getItemUrl:eF,className:q,getFileTrailingVisual:Y,getFileIcon:X,sortDirectoryItems:Q})}):eV&&(0,a.jsx)(B.bL,{node:eV}),!O.currentOid&&!f.isEmpty&&(0,a.jsxs)("div",{className:L.Box_6,children:[(0,a.jsx)(S.A,{icon:s.AlertFillIcon}),"\xa0Ref is invalid"]})]})]});return(0,a.jsxs)(A.Provider,{value:eH,children:[eV&&(0,a.jsx)(B.oj,{node:eV,children:O.currentOid&&(0,a.jsx)("div",{className:ev?"react-tree-show-tree-items-on-large-screen":"react-tree-show-tree-items",children:(0,a.jsx)(ea,{clientOnlyFilePaths:e,data:r,directoryNavigateOnClick:et,rootItems:eE,selectedItemRef:eL,setRootItems:eS,onItemSelected:eM,processingTime:m,loading:el,fetchError:em,incompleteFileTree:D,getItemUrl:eF,className:q,getFileTrailingVisual:Y,getFileIcon:X,sortDirectoryItems:Q})})}),!n&&e_.enabled&&i&&(0,a.jsx)(k.A,{sx:{"@media screen and (min-width: 1360px)":{display:"block"}},className:L.Box_7,children:i}),(0,a.jsx)(I.O7.Pane,{position:"start",sticky:!0,padding:"none",width:"large",resizable:!!er,widthStorageKey:"codeView.tree-pane-width",divider:{regular:"none",narrow:"none"},className:(0,d.$)(L.Pane,!n&&L.HideTree,eD||ei?L.HidePaneWithTreeOverlay:L.HidePane,U),children:n&&!eD&&(0,a.jsx)("div",{className:eR?ei?"react-tree-pane-contents-3-panel":"react-tree-pane-contents":void 0,children:eU})}),n&&eD&&eb.current===ei&&(0,a.jsx)(E.Ay,{className:(0,d.$)(eR?ei?"react-tree-pane-overlay-3-panel":"react-tree-pane-overlay":void 0,L.Overlay,!n&&L.HideTree),ref:eP,returnFocusRef:l,onClickOutside:eG,onEscape:eG,top:0,position:"fixed",children:(0,a.jsx)(a.Fragment,{children:eU})})]})}function ed(e,t){switch(t.type){case"set":{let n=e?.size>0;return(0,_.BI)("file-tree",{"fetch-count":n?t.folders.size-e.size:t.folders.size,"file-count":t.folders.size,"nav-type":n?"soft":"hard","processing-time":t.processingTime}),t.folders}case"add":{let n=new Map([...e,...t.folders]);return(0,_.BI)("file-tree",{"fetch-count":t.folders.size,"file-count":n.size,"nav-type":"fetch","processing-time":t.processingTime}),n}default:throw Error(`Unknown action type: ${t.type}`)}}function eu({scrollingRef:e}){let[t,n]=u.useState(e.current&&e.current.scrollTop>0);return u.useEffect(()=>{if(e.current){let t=e.current,a=()=>{t&&t.scrollTop>0?n(!0):n(!1)};return t.addEventListener("scroll",a),()=>{t.removeEventListener("scroll",a)}}},[e]),t?(0,a.jsx)("div",{className:L.Box_8}):null}try{ec.displayName||(ec.displayName="ReposFileTreePane")}catch{}try{eu.displayName||(eu.displayName="TreeBorder")}catch{}var em=n(38111),ep=n(8367),ef=n(93955),eh=n(96679),ex=n(17515),ey=n(84217);let eg={Heading:"use-tree-pane-module__Heading--DlnQ2"};function ev(e,t,n,r,i,l="fileTreeExpanded",o){let{sendRepoClickEvent:s}=(0,f.T)(),c=(0,ef.i)(),d=l?(0,ep.Ri)(l):void 0,m=void 0===eh.XC,h=!c&&d&&"false"!==d.value||c&&n;void 0===h&&(h=!1);let x=(0,u.useRef)(null),y=(0,u.useRef)(null),{screenSize:g}=(0,N.lm)(),[v,w]=(0,u.useState)(h),_=(0,u.useRef)(h),b=(0,u.useRef)(!1),R=(0,u.useRef)(!1),F=(0,u.useCallback)(()=>!(t.current&&window.innerWidth>=es||!t.current&&window.innerWidth>=N.Gy.xlarge),[t]);(0,ex.N)(()=>{let e=F();e||(b.current=!1),w((0,em.q)()&&g<N.Gy.large&&!R.current||(!e||b.current)&&(c&&v||!c&&d?.value!=="false"))},[b,d?.value,g,t,F,c]),(0,ex.N)(()=>{let e=!t.current&&window.innerWidth<N.Gy.xlarge,n=!t.current&&window.innerWidth>=N.Gy.xlarge;e&&_.current&&!(0,em.q)()&&v&&w(!1),n&&_.current&&!v&&w(!0)},[t,g]),(0,ex.N)(()=>{let e=t.current&&window.innerWidth<es,n=t.current&&window.innerWidth>=es;e&&_.current&&!(0,em.q)()&&v&&w(!1),n&&_.current&&!v&&w(!0)},[t]);let T=(0,u.useCallback)(e=>{if(w(!0),F()&&(b.current=!0),e?.setPreference&&(i?.(!0),_.current=!0,l)){let e=new Date(Date.now()+2592e6).toUTCString();(0,ep.TV)(l,"true",e)}e?.focus==="toggleButton"?requestAnimationFrame(()=>x.current?.focus()):e?.focus==="search"&&requestAnimationFrame(()=>y.current?.focus())},[l,2592e6,F,i]),C=(0,u.useCallback)(e=>{if(w(!1),b.current=!1,R.current=!0,e?.setPreference&&(i?.(!1),_.current=!1,l)){let e=new Date(Date.now()+2592e6).toUTCString();(0,ep.TV)(l,"false",e)}e?.focus==="toggleButton"&&requestAnimationFrame(()=>x.current?.focus())},[l,2592e6,i]),k=(0,u.useCallback)(e=>e&&window.innerWidth>=es||!t.current&&window.innerWidth>=N.Gy.xlarge,[t]),j=(0,u.useMemo)(()=>(0,a.jsx)(ey.A,{as:"h2",className:eg.Heading,children:(0,a.jsx)(p,{expanded:v,ariaControls:e,onToggleExpanded:()=>{s(v?"FILES_TREE.HIDE":"FILES_TREE.SHOW"),v?C({focus:"toggleButton",setPreference:k(t.current)}):T({focus:"toggleButton",setPreference:k(t.current)})},className:void 0!==d||v||m?void 0:"react-tree-toggle-button-with-indicator",ref:x,textAreaId:r,...o})}),[v,e,d,m,r,o,s,C,k,t,T]);return{isTreeExpanded:v,expandTree:T,collapseTree:C,treeToggleElement:j,treeToggleRef:x,searchBoxRef:y}}},75367:(e,t,n)=>{n.d(t,{S:()=>s,s:()=>o});var a=n(21728),r=n(96540),i=n(38007),l=n(78924);function o(){let e,t,n=(0,a.c)(6),o=(0,r.useContext)(l.I);if(!o)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:s,category:c,metadata:d}=o;n[0]!==s||n[1]!==c||n[2]!==d?(e=(e,t,n)=>{let a={react:!0,app_name:s,category:c,...d};(0,i.BI)(e,{...a,...void 0===n?{}:n,target:t})},n[0]=s,n[1]=c,n[2]=d,n[3]=e):e=n[3];let u=e;return n[4]!==u?(t={sendAnalyticsEvent:u},n[4]=u,n[5]=t):t=n[5],t}function s(){let e,t,n=(0,a.c)(4),{sendAnalyticsEvent:r}=o();n[0]!==r?(e=e=>{r("analytics.click",void 0,void 0===e?{}:e)},n[0]=r,n[1]=e):e=n[1];let i=e;return n[2]!==i?(t={sendClickAnalyticsEvent:i},n[2]=i,n[3]=t):t=n[3],t}},11251:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(96540);function r({focusRowRef:e,mouseRowRef:t}){let[n,r]=a.useState(!1);return a.useEffect(()=>{if(e.current&&t.current){let n=()=>{let t=e.current?.querySelector(".PRIVATE_TreeView-item-content-text");t?.scrollWidth!==t?.offsetWidth&&r(!0)};e.current.onfocus=()=>{n()},e.current.onblur=()=>{r(!1)},t.current.onmouseenter=()=>{n()},t.current.onmouseleave=()=>{r(!1)}}},[e,t]),n}},21609:(e,t,n)=>{n.d(t,{_:()=>r});var a=n(74848);function r({buttonFocusId:e,buttonHotkey:t,onButtonClick:n,buttonTestLabel:r,onlyAddHotkeyScopeButton:i}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{hidden:!0,"data-testid":r||"","data-hotkey":t,onClick:n,"data-hotkey-scope":e}),!i&&(0,a.jsx)("button",{hidden:!0,"data-hotkey":t,onClick:n})]})}try{r.displayName||(r.displayName="DuplicateOnKeydownButton")}catch{}},2680:(e,t,n)=>{n.r(t),n.d(t,{FileResultRow:()=>L,default:()=>B});var a=n(74848),r=n(85579),i=n(141),l=n(98637),o=n(21113),s=n(88795),c=n(81367),d=n(96235),u=n(28391),m=n(68415),p=n(26807),f=n(69676),h=n(38621),x=n(82678),y=n(6869),g=n(15385),v=n(34614),w=n(75177),_=n(3971),b=n(63867),R=n(53110),N=n(91385),F=n(96540),T=n(89276),C=n(27406),k=n(38111),j=n(62834);let I={Box:"FileResultsList-module__Box--CSFTs",OverlayEnabled:"FileResultsList-module__OverlayEnabled--x2UoJ",ActionList:"FileResultsList-module__ActionList--E5FBw",ActionList_Overlay:"FileResultsList-module__ActionList_Overlay--EOr6b",Box_1:"FileResultsList-module__Box_1--ZnWjQ",FilesSearchBox:"FileResultsList-module__FilesSearchBox--J5FtW",ActionList_Item:"FileResultsList-module__ActionList_Item--Jzwuy",HighlightMatch:"FileResultsList-module__HighlightMatch--jIibS",Box_2:"FileResultsList-module__Box_2--oguP6",Octicon:"FileResultsList-module__Octicon--Qr0yq",PrimerLink:"FileResultsList-module__PrimerLink--yrBav"};var E=n(34164);let S={excludeDirectories:!1,excludeSeeAllResults:!1};function B({actionListClassName:e,additionalResults:t,commitOid:n,config:u=S,findFileWorkerPath:h,getItemUrl:b,onRenderRow:R,onItemSelected:N,searchBoxRef:B,className:L,sx:O}){let{excludeDirectories:P,excludeSeeAllResults:D}=u,{query:M,setQuery:W}=(0,r.JS)(),H=(0,s.t)(),V=F.useRef(null),G=B??V,[U,z]=F.useState(M.length>0),[q,K]=F.useState(!!M),{list:Z,directories:J,loading:Y,error:X}=(0,j.o)(n,U,!!P),{path:Q}=(0,i.eu)(),{getUrl:ee}=(0,o.Z)(),{queryText:et,queryLine:en}=function(e){let t=(e=e.replaceAll(" ","")).indexOf(":");return t>=0?{queryText:e.substring(0,t),queryLine:parseInt(e.substring(t+1),10)}:{queryText:e,queryLine:void 0}}(M),{matches:ea,clearMatches:er}=function(e,t,n,a){let[r,i]=F.useState(),o=F.useRef(""),s=F.useRef(),{sendStats:c}=(0,l.T)(),d=F.useRef(!1),u=F.useCallback(()=>{let e=new T.z(n,C.j);e.onmessage=({data:e})=>{d.current=!1,i(e.list),o.current=e.query,e.startTime&&c("repository.find-file",{"find-file-base-count":e.baseCount,"find-file-results-count":e.list.length,"find-file-duration-ms":performance.now()-e.startTime})},s.current=e},[c,n]);return F.useEffect(()=>{if(a)return u(),function(){s.current?.terminate()}},[u,a]),F.useEffect(()=>{if(e.length&&t){d.current&&(s.current?.terminate(),u());let n=o.current&&t.startsWith(o.current);d.current=!0,s.current?.postMessage({baseList:n&&r||e,query:t,startTime:performance.now()})}},[e,t,u]),{matches:r,clearMatches:()=>i(void 0)}}((0,F.useMemo)(()=>[...Z,...t??[]].sort(),[t,Z]),et,h,U),{sendRepoClickEvent:ei}=(0,l.T)(),el=(0,p.Z)(),[eo,es]=F.useState(0),[ec,ed]=F.useState(()=>(0,k.q)()),eu=F.useRef(null),em=F.useRef(null),ep="file-results-list",{sendRepoKeyDownEvent:ef}=(0,l.T)(),{screenSize:eh}=(0,m.lm)(),ex=u.enableOverlay??eh>=m.Gy.large,ey=F.useCallback(e=>{ei("FILE_TREE.SEARCH_RESULT_CLICK"),N?.(e),K(!1)},[ei,N]),eg=(e,t,n)=>b?b(e,t,n):ee({path:e,action:t?"tree":"blob",hash:n}),{containerRef:ev}=(0,x.G)({bindKeys:f.z0.ArrowVertical|f.z0.HomeAndEnd,focusInStrategy:"previous"},[Y,X]);F.useEffect(()=>{M||K(!1)},[M]),F.useEffect(()=>{document.activeElement!==G.current&&ex&&K(!1)},[Q,G,ex]);let ew=ea?.slice(0,40)||[],e_=ea&&ea.length>ew.length,eb=(0,a.jsx)("div",{className:(0,E.$)(I.Box,{[I.OverlayEnabled]:ex}),children:X?(0,a.jsx)(y.A,{variant:"danger",className:"m-3",children:"Failed to search"}):(0,a.jsxs)(g.l,{ref:ev,className:(0,E.$)(e,I.ActionList,{[I.ActionList_Overlay]:ex}),role:"listbox",children:[!Y&&ew.map((e,t)=>{let n=J.includes(e),r=eg(e,n,en?`L${en}`:"");return(0,a.jsx)($,{active:e===Q,index:t,focused:ec&&eo===t,match:e,onRender:R,query:et,onClick:ey,isDirectory:n,to:r,useOverlay:ex,listRef:ev},e)}),(0,a.jsxs)("div",{className:"m-3 text-center",children:[(0,a.jsx)(A,{loading:Y||!ea,visibleResultCount:ew.length,truncated:!!e_}),e_&&!D&&(0,a.jsxs)(a.Fragment,{children:["\xa0",(0,a.jsx)(v.A,{id:"see-all-results-link",className:(0,E.$)("focus-visible",{[I.PrimerLink]:ec&&eo===ew.length}),ref:eu,href:(0,d.Y8Y)({owner:H.ownerLogin,repo:H.name,searchTerm:`path:${et}`}),children:"See all results"})]})]})]})});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.A,{ref:em,sx:O,className:(0,E.$)(L,I.Box_1),children:(0,a.jsx)(k.Z,{ariaActiveDescendant:(!ex&&M||ex&&q)&&ec&&eo>-1?e_&&eo===ew.length?"see-all-results-link":`file-result-${eo}`:void 0,ariaExpanded:ex?q:void 0,ariaHasPopup:ex,ariaControls:ex?ep:void 0,ref:G,query:M,onKeyDown:e=>{let{key:t,shiftKey:n,metaKey:a,altKey:r,ctrlKey:i}=e;if(!n&&!a&&!r){if("Escape"===t)M?(ef("FILE_TREE.CANCEL_SEARCH"),W(""),er()):document.activeElement&&document.activeElement.blur();else if(!M)return;else if("Enter"===t){if(!D&&e_&&eo===ew.length)el((0,d.Y8Y)({owner:H.ownerLogin,repo:H.name,searchTerm:`path:${et}`})),N?.();else if(ew[eo]){let e=ew[eo];el(eg(ew[eo],!1,en?`L${en}`:"")),K(!1),N?.(e)}}else if("ArrowDown"===t||i&&"n"===t){if(!D&&e_&&eo>=ew.length-1){if(es(ew.length),eu.current&&ev.current){let e=(0,c.U)(ev.current);(0,f.Rt)(eu.current,e,{behavior:"instant"})}}else es(Math.min(eo+1,ew.length-1));e.preventDefault();return}else if("ArrowUp"===t||i&&"p"===t){es(Math.max(eo-1,0)),e.preventDefault();return}}},onPreload:()=>z(!0),onSearch:e=>{W(e),e?K(!0):(er(),K(!1)),es(0)},onBlur:e=>{ev.current?.contains(e.relatedTarget)||(K(!1),ed(!1))},onFocus:()=>{M&&K(!0),ed(!0)},className:I.FilesSearchBox})}),ex&&(0,a.jsx)(_.T,{anchorRef:em,open:ex&&q,renderAnchor:null,onClose:()=>{K(!1)},focusZoneSettings:{disabled:!0},focusTrapSettings:{disabled:!0},width:"xlarge",align:"end",overlayProps:{id:ep,role:"dialog"},children:eb}),!ex&&M&&eb]})}function A({visibleResultCount:e,truncated:t,loading:n}){return(0,a.jsx)("span",{role:"status",className:n||t||0===e?void 0:"sr-only","aria-label":n?"Loading":void 0,children:n?(0,a.jsx)(b.A,{size:"large"}):0===e?"No matches found":t?`First ${e} files shown.`:`Showing ${e} files.`},"results-count-status")}let L=({active:e,focused:t,index:n,match:r,query:i,to:l,isDirectory:o,onClick:s,onRender:d,useOverlay:m,listRef:p})=>{let h=(0,N.Xq)(i,r);d?.();let x=F.useRef(null);F.useEffect(()=>{if(t&&x.current&&p?.current){let e=(0,c.U)(p.current);(0,f.Rt)(x.current,e,{behavior:"instant"})}},[t,p]);let y={};t&&(y={outline:"none",border:"2 solid",boxShadow:"0 0 0 2px #0969da"});let v=(0,F.useCallback)(()=>{s?.(r)},[r,s]);return(0,a.jsx)(g.l.LinkItem,{id:`file-result-${n}`,ref:x,as:u.N,onClick:v,to:l,active:e,className:(0,E.$)("d-flex",I.ActionList_Item),sx:y,role:"option","data-focus-visible-added":t||void 0,tabIndex:m?-1:0,children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)("div",{className:"d-flex flex-1 flex-column overflow-hidden",children:(0,a.jsx)(D,{text:r,positionsList:h,LeadingIcon:o?O:P,className:I.HighlightMatch})}),t&&(0,a.jsx)("div",{className:I.Box_2,children:`Go to ${o?"folder":"file"}`})]})},r)},O=()=>(0,a.jsx)(R.A,{"aria-label":"Directory",icon:h.FileDirectoryFillIcon,size:"small",className:I.Octicon}),P=()=>(0,a.jsx)(R.A,{"aria-label":"File",icon:h.FileIcon,className:"fgColor-muted mr-2",size:"small"}),$=F.memo(L);function D({text:e,positionsList:t,className:n,LeadingIcon:r}){let i=[],l=0;for(let n of t){if(Number(n)!==n||n<l||n>e.length)continue;let t=e.slice(l,n);t&&i.push(M(t)),l=n+1,i.push((0,a.jsx)("mark",{className:"text-bold bgColor-transparent fgColor-default",children:e[n]},n))}return i.push(M(e.slice(l))),(0,a.jsx)("div",{className:n,children:(0,a.jsxs)(a.Fragment,{children:[r&&(0,a.jsx)(r,{}),i]})})}function M(e){return e.replaceAll("/","/\u200B")}try{B.displayName||(B.displayName="FileResultsList")}catch{}try{A.displayName||(A.displayName="FileResultsStatus")}catch{}try{L.displayName||(L.displayName="FileResultRow")}catch{}try{O.displayName||(O.displayName="DirectoryIcon")}catch{}try{P.displayName||(P.displayName="FileResultIcon")}catch{}try{$.displayName||($.displayName="MemoizedFileResultRow")}catch{}try{D.displayName||(D.displayName="HighlightMatch")}catch{}},38111:(e,t,n)=>{n.d(t,{Z:()=>p,q:()=>f});var a=n(74848),r=n(70170),i=n(54763),l=n(98637),o=n(96679),s=n(38621),c=n(9591),d=n(96540);let u={TextInput:"FilesSearchBox-module__TextInput--LKpMn",Box:"FilesSearchBox-module__Box--Ye6rL"};var m=n(34164);let p=d.forwardRef(({ariaActiveDescendant:e,ariaControls:t,ariaExpanded:n,ariaHasPopup:o,onBlur:p,onFocus:h,onKeyDown:x,onPreload:y,onSearch:g,query:v,sx:w,className:_},b)=>{let{sendRepoClickEvent:R}=(0,l.T)(),[N,F]=d.useState(v),T=d.useRef((0,r.s)(e=>g(e),250));d.useEffect(()=>{F(v)},[v]);let C=v?(0,a.jsx)(c.A.Action,{onClick:()=>{R("FILE_TREE.CANCEL_SEARCH"),g("")},icon:s.XCircleFillIcon,"aria-label":"Clear",className:"fgColor-muted"}):void 0;return(0,a.jsx)(c.A,{autoFocus:f(),ref:b,value:N,onKeyDown:x,onChange:e=>{F(e.target.value),y(),T.current(e.target.value)},sx:w,className:(0,m.$)(_,u.TextInput),"aria-label":"Go to file","aria-activedescendant":e,role:o?"combobox":void 0,"aria-controls":t,"aria-expanded":n,"aria-haspopup":o?"dialog":void 0,autoCorrect:"off",spellCheck:"false",placeholder:"Go to file",leadingVisual:s.SearchIcon,trailingAction:C,trailingVisual:C?void 0:()=>(0,a.jsx)(i.E,{children:(0,a.jsx)("div",{className:u.Box,children:(0,a.jsx)("kbd",{children:"t"})})}),onFocus:e=>{y(),e.target.select(),h?.(e)},onBlur:p,onClick:()=>R("FILE_TREE.SEARCH_BOX")})});function f(){return"1"===new URLSearchParams(o.fV.search).get("search")}p.displayName="FilesSearchBox"},61763:(e,t,n)=>{n.d(t,{Ak:()=>m,cD:()=>u,iK:()=>d});var a=n(74848),r=n(18138),i=n(93955),l=n(85351),o=n(68415),s=n(96540);let c=(0,l.A)("localStorage"),d=(0,s.createContext)({openPanel:void 0,setOpenPanel:()=>void 0});function u({children:e,payload:t,openPanelRef:n}){let l="blame"in t,u=(0,r.Hf)(t),m=(0,i.i)(),p=(0,s.useRef)(void 0),[f,h]=(0,s.useState)(()=>{let e=c.getItem("codeNavOpen");if(!m&&""!==e&&null!==e||m&&t.symbolsExpanded)return"codeNav"}),x=(l||u)&&"codeNav"===f?void 0:f;s.useEffect(()=>{n.current=x},[x,n]);let y=(0,s.useCallback)((e,t)=>{h(n=>(n&&p.current&&p.current.focus(),p.current=t,l||u&&"codeNav"===e?void 0:e))},[l,u]);var g=y;let{screenSize:v}=(0,o.lm)(),w=(0,s.useRef)(v);(0,s.useEffect)(()=>{let e=w.current>=o.Gy.large,t=w.current===v;v<o.Gy.large&&(e||t)&&g(void 0),w.current=v},[v,g]);let _=(0,s.useMemo)(()=>({openPanel:x,setOpenPanel:y}),[x,y]);return(0,a.jsx)(d.Provider,{value:_,children:e})}function m(){return(0,s.useContext)(d)}try{d.displayName||(d.displayName="OpenPanelContext")}catch{}try{u.displayName||(u.displayName="OpenPanelProvider")}catch{}},63869:(e,t,n)=>{n.d(t,{L:()=>s});var a=n(74848),r=n(21728),i=n(38621),l=n(87330),o=n(34164);let s=n(96540).forwardRef((e,t)=>{let n,s,c,d=(0,r.c)(17),{expanded:u,testid:m,ariaLabel:p,ariaControls:f,onToggleExpanded:h,alignment:x,dataHotkey:y,className:g,size:v,tooltipDirection:w,variant:_}=e,b=u?`collapse-${m}`:`expand-${m}`,R=u?"left"===x?i.SidebarExpandIcon:i.SidebarCollapseIcon:"left"===x?i.SidebarCollapseIcon:i.SidebarExpandIcon;d[0]!==h?(n=e=>{h(e)},d[0]=h,d[1]=n):n=d[1];let N=_??"invisible";return d[2]!==g?(s=(0,o.$)(g,"fgColor-muted"),d[2]=g,d[3]=s):s=d[3],d[4]!==f||d[5]!==p||d[6]!==y||d[7]!==u||d[8]!==t||d[9]!==v||d[10]!==b||d[11]!==R||d[12]!==n||d[13]!==N||d[14]!==s||d[15]!==w?(c=(0,a.jsx)(l.K,{"aria-label":p,tooltipDirection:w,ref:t,"data-testid":b,"aria-expanded":u,"aria-controls":f,icon:R,"data-hotkey":y,onClick:n,variant:N,size:v,className:s}),d[4]=f,d[5]=p,d[6]=y,d[7]=u,d[8]=t,d[9]=v,d[10]=b,d[11]=R,d[12]=n,d[13]=N,d[14]=s,d[15]=w,d[16]=c):c=d[16],c});s.displayName="ExpandButton"},4619:(e,t,n)=>{n.d(t,{m:()=>x});var a=n(74848),r=n(69676),i=n(96540),l=n(59299),o=n(44999),s=n(16255),c=n(34164);let d=n(38267).Ay.span.withConfig({displayName:"ControlledTooltip__TooltipBase",componentId:"sc-b39269ff-0"})(["&::after{position:absolute;z-index:1000000;display:none;padding:0.5em 0.75em;font:normal normal 11px/1.5 ",";-webkit-font-smoothing:subpixel-antialiased;color:",";text-align:center;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-wrap:break-word;white-space:pre;pointer-events:none;content:attr(data-visible-text);background:",";border-radius:",";opacity:0;}@keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}&.tooltipped-open,&:hover,&:active,&:focus{&::after{display:inline-block;text-decoration:none;animation-name:tooltip-appear;animation-duration:0.1s;animation-fill-mode:forwards;animation-timing-function:ease-in;animation-delay:0s;}}&.tooltipped-no-delay.tooltipped-open,&.tooltipped-no-delay:hover,&.tooltipped-no-delay:active,&.tooltipped-no-delay:focus{&::after{animation-delay:0s;}}&.tooltipped-s,&.tooltipped-se,&.tooltipped-sw{&::after{top:100%;right:50%;margin-top:6px;}}&.tooltipped-se{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-sw::after{margin-right:-",";}&.tooltipped-n,&.tooltipped-ne,&.tooltipped-nw{&::after{right:50%;bottom:100%;margin-bottom:6px;}}&.tooltipped-ne{&::after{right:auto;left:50%;margin-left:-",";}}&.tooltipped-nw::after{margin-right:-",";}&.tooltipped-s::after,&.tooltipped-n::after{transform:translateX(50%);}&.tooltipped-w{&::after{right:100%;bottom:50%;margin-right:6px;transform:translateY(50%);}}&.tooltipped-e{&::after{bottom:50%;left:100%;margin-left:6px;transform:translateY(50%);}}&.tooltipped-align-right-2::after{right:0;margin-right:0;}&.tooltipped-align-left-2::after{left:0;margin-left:0;}",";"],(0,l.Jt)("fonts.normal"),(0,l.Jt)("colors.fg.onEmphasis"),(0,l.Jt)("colors.neutral.emphasisPlus"),(0,l.Jt)("radii.2"),(0,l.Jt)("space.3"),(0,l.Jt)("space.3"),(0,l.Jt)("space.3"),(0,l.Jt)("space.3"),o.A),u=()=>()=>void 0,m=()=>!1,p=()=>!0,f=(0,i.forwardRef)(function({direction:e="n",className:t,text:n,noDelay:r,align:l,wrap:o,open:f=!1,portalProps:h={},...x},y){let g=(0,i.useSyncExternalStore)(u,p,m),v=(0,c.$)(t,`tooltipped-${e}`,l&&`tooltipped-align-${l}-2`,r&&"tooltipped-no-delay",o&&"tooltipped-multiline",f&&"tooltipped-open");return g?(0,a.jsx)(s.Z,{...h,children:(0,a.jsx)(d,{ref:y,role:"tooltip","aria-label":n,"data-visible-text":n||x["aria-label"],...x,sx:{position:"fixed",zIndex:1,...x.sx},className:v})}):null});try{f.displayName||(f.displayName="ControlledTooltip")}catch{}var h=n(81367);let x=(0,i.forwardRef)(function({contentRef:e,open:t,anchoredPositionAlignment:n,anchorSide:l,anchorOffset:o,alignmentOffset:s,allowOutOfBounds:c,...d},u){let m=(0,i.useRef)(null);(0,i.useImperativeHandle)(u,()=>m.current);let p=(0,i.useRef)({left:0,top:0}),x=(0,i.useSyncExternalStore)((0,i.useCallback)(n=>{if(!m.current||!e.current||!t)return()=>void 0;let a=(0,h.U)(e.current);return a?.addEventListener("scroll",n),()=>{a?.removeEventListener("scroll",n)}},[e,t]),(0,i.useCallback)(()=>{if(!m.current||!e.current)return p.current;let t=(0,r.uG)(m.current,e.current,{align:n??"center",side:l??"outside-top",alignmentOffset:s??0,anchorOffset:o??0,allowOutOfBounds:c});return(t.left!==p.current.left||t.top!==p.current.top)&&(p.current=t),p.current},[e,s,o,n,l,c]),(0,i.useCallback)(()=>p.current,[]));return(0,a.jsx)(f,{...d,ref:m,open:t,style:{position:"absolute",...x,...d.style}})});try{x.displayName||(x.displayName="PortalTooltip")}catch{}},30422:(e,t,n)=>{n.d(t,{BC:()=>c,JU:()=>u,Pk:()=>s});var a=n(74848),r=n(75177),i=n(52464),l=n(99418),o=n(96540);let s=m(r.A),c=m(i.A),d=(0,o.forwardRef)((e,t)=>(0,a.jsx)("div",{ref:t,...e}));d.displayName="Div";let u=m(d);function m(e){let t=(0,o.forwardRef)((t,n)=>{let{sanitizedHTML:r,props:i}=function(e){let{html:t,domPurifyConfig:n,...a}=e,r={...n,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{sanitizedHTML:l.default.sanitize(t,r),props:a}}(t);return(0,a.jsx)(e,{ref:n,...i,dangerouslySetInnerHTML:{__html:r}})});return t.displayName=`UnsafeHTML${e.displayName||e.name}`,t}try{u.displayName||(u.displayName="UnsafeHTMLDiv")}catch{}},21325:(e,t,n)=>{n.d(t,{T2:()=>c,cp:()=>f,ud:()=>x});var a=n(74848),r=n(21728),i=n(85351),l=n(96540);let o=(0,i.A)("localStorage"),s="codeView.codeFolding",c="codeView.codeWrapping",d="codeView.centerView",u="codeView.openSymbolsOnClick",m=new Map([[s,"Show code folding buttons"],[c,"Wrap lines"],[d,"Center content"],[u,"Open symbols on click"]]),p=(0,l.createContext)({codeFoldingOption:{},codeWrappingOption:{},codeCenterOption:{},openSymbolsOption:{}}),f=e=>{let t,n,i,l=(0,r.c)(8),{children:o}=e,m=h(s,!0),f=h(c,!1),x=h(d,!1),y=h(u,!0);return l[0]!==x||l[1]!==m||l[2]!==f||l[3]!==y?(n={codeFoldingOption:m,codeWrappingOption:f,codeCenterOption:x,openSymbolsOption:y},l[0]=x,l[1]=m,l[2]=f,l[3]=y,l[4]=n):n=l[4],t=n,l[5]!==o||l[6]!==t?(i=(0,a.jsx)(p.Provider,{value:t,children:o}),l[5]=o,l[6]=t,l[7]=i):i=l[7],i};function h(e,t){let n,a,i,s,c=(0,r.c)(11);c[0]!==e?(n=o.getItem(e),c[0]=e,c[1]=n):n=c[1];let d=n;c[2]!==t||c[3]!==d?(a=()=>d?"true"===d:t,c[2]=t,c[3]=d,c[4]=a):a=c[4];let[u,p]=(0,l.useState)(a);c[5]!==e?(i=m.get(e)||"",c[5]=e,c[6]=i):i=c[6];let f=i;return c[7]!==u||c[8]!==f||c[9]!==e?(s={name:e,enabled:u,setEnabled:p,label:f},c[7]=u,c[8]=f,c[9]=e,c[10]=s):s=c[10],s}function x(){return(0,l.useContext)(p)}try{p.displayName||(p.displayName="CodeViewOptionsContext")}catch{}try{f.displayName||(f.displayName="CodeViewOptionsProvider")}catch{}}}]);
//# sourceMappingURL=ui_packages_repos-file-tree-view_repos-file-tree-view_ts-ui_packages_use-analytics_use-analyt-c7d72e-47a46343e31c.js.map