"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_copilot-chat_entry_ts-ui_packages_use-client-value_use-client-value_ts-ui_package-24032a"],{69719:(e,t,r)=>{let n;r.d(t,{H:()=>R});var a=r(35750),o=r(18150),i=r(85242),s=r(88243),l=r(16213),c=r(10204),d=new WeakMap,h=new WeakSet;let AliveSession=class AliveSession extends c.ib{constructor(e,t,r,n,a){super(e,()=>(0,s._)(this,h,u).call(this),r,n,void 0,a),(0,l._)(this,h),(0,o._)(this,d,{writable:!0,value:void 0}),(0,i._)(this,d,t)}};function u(){return m((0,a._)(this,d))}async function m(e){let t=await p(e);return t&&t.url&&t.token?f(t.url,t.token):null}async function p(e){let t=await fetch(e,{headers:{Accept:"application/json"}});if(t.ok)return t.json();if(404===t.status)return null;throw Error("fetch error")}async function f(e,t){let r=await fetch(e,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":t}});if(r.ok)return r.text();throw Error("fetch error")}var g=r(70170),x=r(32475),b=r(85351),w=r(23683),y=r(27851);function v(e,{channel:t,type:r,data:n}){for(let a of e)a.dispatchEvent(new CustomEvent(`socket:${r}`,{bubbles:!1,cancelable:!1,detail:{name:t,data:n}}))}var j=new WeakMap,_=new WeakMap,S=new WeakMap,C=new WeakMap,N=new WeakMap,O=new WeakSet;let I=class AliveSessionProxy{subscribe(e){let t=(0,a._)(this,_).add(...e);t.length&&(0,a._)(this,j).port.postMessage({subscribe:t});let r=new Set(t.map(e=>e.name)),n=e.reduce((e,t)=>{let n=t.topic.name;return(0,c.JR)(n)&&!r.has(n)&&e.add(n),e},new Set);n.size&&(0,a._)(this,j).port.postMessage({requestPresence:Array.from(n)})}unsubscribeAll(...e){let t=(0,a._)(this,_).drain(...e);t.length&&(0,a._)(this,j).port.postMessage({unsubscribe:t});let r=(0,a._)(this,S).removeSubscribers(e);this.sendPresenceMetadataUpdate(r)}updatePresenceMetadata(e){let t=new Set;for(let r of e)(0,a._)(this,S).setMetadata(r),t.add(r.channelName);this.sendPresenceMetadataUpdate(t)}sendPresenceMetadataUpdate(e){if(!e.size)return;let t=[];for(let r of e)t.push({channelName:r,metadata:(0,a._)(this,S).getChannelMetadata(r)});(0,a._)(this,j).port.postMessage({updatePresenceMetadata:t})}online(){(0,a._)(this,j).port.postMessage({online:!0})}offline(){(0,a._)(this,j).port.postMessage({online:!1})}hangup(){(0,a._)(this,j).port.postMessage({hangup:!0})}constructor(e,t,r,n,d,h){(0,l._)(this,O),(0,o._)(this,j,{writable:!0,value:void 0}),(0,o._)(this,_,{writable:!0,value:new c.m0}),(0,o._)(this,S,{writable:!0,value:new c.VH}),(0,o._)(this,C,{writable:!0,value:void 0}),(0,o._)(this,N,{writable:!0,value:new Map}),(0,i._)(this,C,d),(0,i._)(this,j,new SharedWorker(`${e}?module=true`,{name:`github-socket-worker-v3-${n}`,type:"module"})),(0,a._)(this,j).port.onmessage=({data:e})=>(0,s._)(this,O,k).call(this,e),(0,a._)(this,j).port.postMessage({connect:{url:t,refreshUrl:r,options:h}})}};function k(e){let{channel:t}=e;if("presence"===e.type){let r=(0,a._)(this,N).get(t);r||(r=(0,g.s)((e,r)=>{(0,a._)(this,C).call(this,e,r),(0,a._)(this,N).delete(t)},100),(0,a._)(this,N).set(t,r)),r((0,a._)(this,_).subscribers(t),e);return}(0,a._)(this,C).call(this,(0,a._)(this,_).subscribers(t),e)}async function D(){let e=function(){let e=document.head.querySelector("link[rel=shared-web-socket-src]")?.getAttribute("href");return e&&e.startsWith("/")?e:null}();if(!e)return;let t=document.head.querySelector("link[rel=shared-web-socket]")?.href??null;if(!t)return;let r=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-refresh-url")??null;if(!r)return;let n=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-session-id")??null;if(!n)return;let a=(()=>{let a=(0,y.G7)("alive_legacy_retries")?{socketPolicy:{timeout:4e3,attempts:7}}:{};if(!(0,w.nr)()&&"SharedWorker"in window&&"true"!==(0,b.A)("localStorage").getItem("bypassSharedWorker"))try{return new I(e,t,r,n,v,a)}catch{}return new AliveSession(t,r,!1,v,a)})();return window.addEventListener("online",()=>a.online()),window.addEventListener("offline",()=>a.offline()),window.addEventListener("pagehide",()=>{"hangup"in a&&a.hangup()}),a}async function P(){return await x.G,D()}function R(){return n||(n=P())}},35932:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(10204),a=r(76899);let o=new WeakMap;function i(e,t,r){let i;if(!e)throw Error("Not connected to alive");if(!t)throw Error("No channel name");let s=n.KK.parse(t);if(!s)throw Error("Invalid channel name");let l={subscriber:{dispatchEvent:e=>{e instanceof CustomEvent&&r(e.detail.data)}},topic:s},c=((i=o.get(e))||(i={subscribe:(0,a.rK)(t=>e.subscribe(t.flat())),unsubscribeAll:(0,a.rK)(t=>e.unsubscribeAll(...t))},o.set(e,i)),i);return c.subscribe([l]),{unsubscribe:()=>c.unsubscribeAll(l.subscriber)}}},70997:(e,t,r)=>{var n,a=r(52497),o=r(74848),i=r(21728),s=r(95776),l=r(68415),c=r(34901),d=r(47397),h=r(22069),u=r(97286),m=r(39459),p=r(96235),f=r(98075),g=r(96679),x=r(62626),b=r(22279),w=r(38621),y=r(52464),v=r(75177),j=r(89169),_=r(58569),S=r(10871),C=r(87330),N=r(96540),O=r(9677),I=r(45968);function k(e){let t,r,n,a,s=(0,i.c)(11),{lineNumbers:l,lines:c,trimLineBeginnings:d}=e;if(s[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",flexDirection:"row",overflowX:"auto",pb:3},r={fontSize:"12px",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace",overflowX:"auto"},s[0]=t,s[1]=r):(t=s[0],r=s[1]),s[2]!==l||s[3]!==c||s[4]!==d){let e;s[6]!==c||s[7]!==d?(e=(e,t)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e},e),(0,o.jsx)("td",{style:{whiteSpace:"pre",paddingLeft:"16px"},children:(0,o.jsx)(I.$6,{html:d?(c[t]??"").trimStart():c[t]||`
`},`line-${t}`)})]},`line-row-${e}`),s[6]=c,s[7]=d,s[8]=e):e=s[8],n=l.map(e),s[2]=l,s[3]=c,s[4]=d,s[5]=n}else n=s[5];return s[9]!==n?(a=(0,o.jsx)(v.A,{sx:t,children:(0,o.jsx)("table",{style:r,children:n})}),s[9]=n,s[10]=a):a=s[10],a}try{k.displayName||(k.displayName="SimpleCodeListing")}catch{}function D(e){let t,r,n,a,s,l,c,d,h,u,g,_,S,C,I,D,E,T,V,B,$,F,M,W,z,H,U,G,q,J,Q=(0,i.c)(88),{reference:X,details:K,detailsLoading:Y,detailsError:Z,onDismiss:ee}=e,{contributors:et}=(0,x.u)(X.repoOwner,X.repoName,X.commitOID,X.path),[er]=(0,b.E)(X.repoOwner,X.repoName,X.commitOID,X.path),{lines:en,lineNumbers:ea,expandUp:eo,expandDown:ei}=function(e,t,r){let n,a,o,s,l,c,d,h,u=(0,i.c)(42),[m,p]=(0,N.useState)(e?.start??-1),[f,g]=(0,N.useState)(e?.end??-1);u[0]!==r||u[1]!==t||u[2]!==e?(n=r&&e&&t?r.slice(e.start-t.start,e.end-t.start+1):[],u[0]=r,u[1]=t,u[2]=e,u[3]=n):n=u[3];let[x,b]=(0,N.useState)(n);u[4]!==r||u[5]!==f||u[6]!==t||u[7]!==e||u[8]!==m?(a=(n,a)=>{let o=void 0===n?m:n,i=void 0===a?f:a;r&&e&&t&&!(o<0)&&!(i<0)&&b(r.slice(o-t.start,i-t.start+1))},u[4]=r,u[5]=f,u[6]=t,u[7]=e,u[8]=m,u[9]=a):a=u[9];let w=a;u[10]!==r||u[11]!==f||u[12]!==e||u[13]!==m||u[14]!==w?(o=()=>{if(e&&r&&(-1===m||-1===f)){let t=e.start,r=e.end;p(t),g(r),w(t,r)}},u[10]=r,u[11]=f,u[12]=e,u[13]=m,u[14]=w,u[15]=o):o=u[15],u[16]!==r||u[17]!==f||u[18]!==t||u[19]!==e||u[20]!==m||u[21]!==w?(s=[r,e,t,w,m,f],u[16]=r,u[17]=f,u[18]=t,u[19]=e,u[20]=m,u[21]=w,u[22]=s):s=u[22],(0,N.useEffect)(o,s),u[23]!==t?.start||u[24]!==m||u[25]!==w?(l=()=>{let e=Math.max(m-A,t?.start??-1);p(e),w(e)},u[23]=t?.start,u[24]=m,u[25]=w,u[26]=l):l=u[26],t?.start;let y=l;u[27]!==f||u[28]!==t?.end||u[29]!==m||u[30]!==w?(c=()=>{let e=Math.min(f+A,t?.end??-1);g(e),w(m,e)},u[27]=f,u[28]=t?.end,u[29]=m,u[30]=w,u[31]=c):c=u[31],t?.end;let v=c,j=-1!==m&&m!==t?.start,_=-1!==f&&f!==t?.end;if(u[32]!==x||u[33]!==m){let e;u[35]!==m?(e=(e,t)=>m+t,u[35]=m,u[36]=e):e=u[36],d=x.map(e),u[32]=x,u[33]=m,u[34]=d}else d=u[34];let S=j?y:null,C=_?v:null;return u[37]!==x||u[38]!==d||u[39]!==S||u[40]!==C?(h={lines:x,lineNumbers:d,expandUp:S,expandDown:C},u[37]=x,u[38]=d,u[39]=S,u[40]=C,u[41]=h):h=u[41],h}(K?.range,K?.expandedRange,K?.highlightedContents),es=K?.headerInfo,el=K?.repoIsOrgOwned,ec=`${X.repoOwner}.png`;return Q[0]===Symbol.for("react.memo_cache_sentinel")?(t={mr:2,flexShrink:0},Q[0]=t):t=Q[0],Q[1]!==el||Q[2]!==ec?(r=(0,o.jsx)(m.r,{square:el,src:ec,sx:t}),Q[1]=el,Q[2]=ec,Q[3]=r):r=Q[3],Q[4]===Symbol.for("react.memo_cache_sentinel")?(n={fontWeight:600,whiteSpace:"nowrap"},Q[4]=n):n=Q[4],Q[5]!==X.repoName||Q[6]!==X.repoOwner?(a=(0,o.jsxs)(y.A,{sx:n,children:[X.repoOwner,"/",X.repoName]}),Q[5]=X.repoName,Q[6]=X.repoOwner,Q[7]=a):a=Q[7],Q[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)(y.A,{sx:{marginX:1},children:"\xb7"}),Q[8]=s):s=Q[8],Q[9]===Symbol.for("react.memo_cache_sentinel")?(l={fontWeight:400},Q[9]=l):l=Q[9],Q[10]!==X.ref?(c=(0,f.gE)(X.ref),Q[10]=X.ref,Q[11]=c):c=Q[11],Q[12]!==c?(d=(0,o.jsx)(y.A,{sx:l,children:c}),Q[12]=c,Q[13]=d):d=Q[13],Q[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)(y.A,{sx:{marginX:1},children:"\xb7"}),Q[14]=h):h=Q[14],Q[15]===Symbol.for("react.memo_cache_sentinel")?(u={fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},Q[15]=u):u=Q[15],Q[16]!==X.path?(g=(0,o.jsx)(y.A,{sx:u,children:X.path}),Q[16]=X.path,Q[17]=g):g=Q[17],Q[18]!==X.range||Q[19]!==X.type?(_="snippet"===X.type&&(0,o.jsxs)("span",{children:[":",X.range.start,"-",X.range.end]}),Q[18]=X.range,Q[19]=X.type,Q[20]=_):_=Q[20],Q[21]!==ee||Q[22]!==d||Q[23]!==g||Q[24]!==_||Q[25]!==r||Q[26]!==a?(S=(0,o.jsxs)(O.O.Header,{onDismiss:ee,children:[r,a,s,d,h,g,_]}),Q[21]=ee,Q[22]=d,Q[23]=g,Q[24]=_,Q[25]=r,Q[26]=a,Q[27]=S):S=Q[27],Q[28]===Symbol.for("react.memo_cache_sentinel")?(C={border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},Q[28]=C):C=Q[28],Q[29]!==es?(I=es&&(0,o.jsx)(R,{headerInfo:es}),Q[29]=es,Q[30]=I):I=Q[30],Q[31]!==es?(D=es&&(0,o.jsx)(L,{headerInfo:es}),Q[31]=es,Q[32]=D):D=Q[32],Q[33]!==I||Q[34]!==D?(E=(0,o.jsxs)(P,{children:[I,D]}),Q[33]=I,Q[34]=D,Q[35]=E):E=Q[35],Q[36]!==eo?(T=eo&&(0,o.jsx)(O.O.ContentExpander,{direction:"above",onExpand:eo}),Q[36]=eo,Q[37]=T):T=Q[37],Q[38]!==ea||Q[39]!==en?(V=(0,o.jsx)(O.O.Content,{children:(0,o.jsx)(k,{lines:en,lineNumbers:ea})}),Q[38]=ea,Q[39]=en,Q[40]=V):V=Q[40],Q[41]!==ei?(B=ei&&(0,o.jsx)(O.O.ContentExpander,{direction:"below",onExpand:ei}),Q[41]=ei,Q[42]=B):B=Q[42],Q[43]!==E||Q[44]!==T||Q[45]!==V||Q[46]!==B?($=(0,o.jsxs)(v.A,{sx:C,children:[E,T,V,B]}),Q[43]=E,Q[44]=T,Q[45]=V,Q[46]=B,Q[47]=$):$=Q[47],Q[48]!==X.repoName||Q[49]!==X.repoOwner?(F=(0,p.Do2)({name:X.repoName,ownerLogin:X.repoOwner}),Q[48]=X.repoName,Q[49]=X.repoOwner,Q[50]=F):F=Q[50],Q[51]!==X.repoName||Q[52]!==X.repoOwner||Q[53]!==F?(M=(0,o.jsxs)(O.O.DetailLink,{href:F,icon:w.RepoIcon,children:[X.repoOwner,"/",X.repoName]}),Q[51]=X.repoName,Q[52]=X.repoOwner,Q[53]=F,Q[54]=M):M=Q[54],Q[55]!==et||Q[56]!==K?.range||Q[57]!==X.commitOID||Q[58]!==X.path||Q[59]!==X.repoName||Q[60]!==X.repoOwner?(W=et&&(0,o.jsxs)(O.O.DetailLink,{icon:w.PeopleIcon,href:(0,p.buO)({owner:X.repoOwner,repo:X.repoName,commitish:X.commitOID,filePath:X.path,lineNumber:K?.range.start}),children:[et.totalCount," ",1===et.totalCount?"contributor":"contributors"]}),Q[55]=et,Q[56]=K?.range,Q[57]=X.commitOID,Q[58]=X.path,Q[59]=X.repoName,Q[60]=X.repoOwner,Q[61]=W):W=Q[61],Q[62]!==er||Q[63]!==X.repoName||Q[64]!==X.repoOwner?(z=er&&(0,o.jsxs)(O.O.DetailLink,{icon:w.HistoryIcon,href:(0,p.$Qz)({owner:X.repoOwner,repo:X.repoName,commitish:er?.oid}),children:[er?.author?.displayName," updated ",(0,o.jsx)(j.A,{datetime:er?.date})]}),Q[62]=er,Q[63]=X.repoName,Q[64]=X.repoOwner,Q[65]=z):z=Q[65],Q[66]!==X.range||Q[67]!==X.type?(H="snippet"===X.type?(0,o.jsxs)(o.Fragment,{children:["#",X.range.start,"-",X.range.end]}):null,Q[66]=X.range,Q[67]=X.type,Q[68]=H):H=Q[68],Q[69]!==X.path||Q[70]!==X.repoName||Q[71]!==X.repoOwner||Q[72]!==X.url||Q[73]!==H?(U=(0,o.jsxs)(O.O.DetailLink,{icon:w.LinkExternalIcon,href:X.url,children:[X.repoOwner,"/",X.repoName,"/",X.path,H]}),Q[69]=X.path,Q[70]=X.repoName,Q[71]=X.repoOwner,Q[72]=X.url,Q[73]=H,Q[74]=U):U=Q[74],Q[75]!==M||Q[76]!==W||Q[77]!==z||Q[78]!==U?(G=(0,o.jsxs)(O.O.Details,{children:[M,W,z,U]}),Q[75]=M,Q[76]=W,Q[77]=z,Q[78]=U,Q[79]=G):G=Q[79],Q[80]!==Z||Q[81]!==Y||Q[82]!==$||Q[83]!==G?(q=(0,o.jsxs)(O.O.Body,{detailsError:Z,detailsLoading:Y,children:[$,G]}),Q[80]=Z,Q[81]=Y,Q[82]=$,Q[83]=G,Q[84]=q):q=Q[84],Q[85]!==S||Q[86]!==q?(J=(0,o.jsxs)(O.O.Frame,{children:[S,q]}),Q[85]=S,Q[86]=q,Q[87]=J):J=Q[87],J}function P(e){let t,r,n=(0,i.c)(3),{children:a}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(t={p:2,display:"flex",flex:1,alignItems:"center",justifyContent:"space-between",backgroundColor:"canvas.subtle",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0px 0px"},n[0]=t):t=n[0],n[1]!==a?(r=(0,o.jsx)(v.A,{sx:t,children:a}),n[1]=a,n[2]=r):r=n[2],r}function R(e){let t,r,n,a=(0,i.c)(6),{headerInfo:s}=e;a[0]===Symbol.for("react.memo_cache_sentinel")?(t={maxWidth:"100%",color:"fg.subtle"},a[0]=t):t=a[0];let l=`${s.lineInfo.truncatedLoc} lines (${s.lineInfo.truncatedSloc} loc) \xb7 ${s.blobSize}`;return a[1]!==l?(r=(0,o.jsx)("span",{children:l}),a[1]=l,a[2]=r):r=a[2],a[3]!==s.blobSize||a[4]!==r?(n=(0,o.jsx)(_.A,{title:s.blobSize,inline:!0,sx:t,"data-testid":"blob-size",children:r}),a[3]=s.blobSize,a[4]=r,a[5]=n):n=a[5],n}function L(e){let t,r=(0,i.c)(17),{headerInfo:n}=e;if(r[0]!==n.displayName||r[1]!==n.isLfs||r[2]!==n.rawBlobUrl||r[3]!==n.viewable){let e,a,i,s,l,c,d=new URL(n.rawBlobUrl,g.fV.origin);d.searchParams.set("download",""),r[5]!==n.displayName||r[6]!==n.isLfs||r[7]!==n.rawBlobUrl?(e=async()=>{n.isLfs||await T(n.rawBlobUrl,n.displayName)},r[5]=n.displayName,r[6]=n.isLfs,r[7]=n.rawBlobUrl,r[8]=e):e=r[8],r[9]===Symbol.for("react.memo_cache_sentinel")?(a={borderTopLeftRadius:0,borderBottomLeftRadius:0},r[9]=a):a=r[9],r[10]!==e?(i={"aria-label":"Download raw content",icon:w.DownloadIcon,size:"small",onClick:e,"data-testid":"download-raw-button",sx:a},r[10]=e,r[11]=i):i=r[11];let h=i;r[12]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex"},r[12]=s):s=r[12];let u=n.viewable?void 0:"true";r[13]===Symbol.for("react.memo_cache_sentinel")?(l={linkButtonSx:E,px:2,borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:"none"},r[13]=l):l=r[13],r[14]!==n.rawBlobUrl||r[15]!==u?(c=(0,o.jsx)(S.z,{href:n.rawBlobUrl,download:u,size:"small",sx:l,"data-testid":"raw-button",children:"Raw"}),r[14]=n.rawBlobUrl,r[15]=u,r[16]=c):c=r[16],t=(0,o.jsxs)(v.A,{sx:s,children:[c,n.isLfs?(0,o.jsx)(C.K,{unsafeDisableTooltip:!0,as:"a","data-turbo":"false",href:d.toString(),...h}):(0,o.jsx)(C.K,{unsafeDisableTooltip:!0,...h})]}),r[0]=n.displayName,r[1]=n.isLfs,r[2]=n.rawBlobUrl,r[3]=n.viewable,r[4]=t}else t=r[4];return t}let A=25,E={"&:hover:not([disabled])":{textDecoration:"none"},"&:focus:not([disabled])":{textDecoration:"none"},"&:active:not([disabled])":{textDecoration:"none"}};async function T(e,t){let r=await fetch(e,{method:"get"}),n=await r.blob(),a=document.createElement("a");a.setAttribute("download",t);let o=URL.createObjectURL(n);a.href=o,a.setAttribute("target","_blank"),a.click(),URL.revokeObjectURL(o)}try{D.displayName||(D.displayName="CodeReferencePreview")}catch{}try{P.displayName||(P.displayName="BlobPreviewHeader")}catch{}try{R.displayName||(R.displayName="BlobSize")}catch{}try{L.displayName||(L.displayName="RawButtons")}catch{}var V=r(53110),B=r(24991);function $(e){let t,r,n,a,s,l,c,d,h,u,f,g,x,b,y,j,_,S,C,N=(0,i.c)(45),{reference:I,detailsLoading:k,detailsError:D,onDismiss:P}=e;N[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(V.A,{icon:w.GitCommitIcon,sx:{mr:2}}),N[0]=t):t=N[0],N[1]===Symbol.for("react.memo_cache_sentinel")?(r={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},N[1]=r):r=N[1],N[2]!==I.message?(n=(0,o.jsx)(v.A,{sx:r,children:I.message}),N[2]=I.message,N[3]=n):n=N[3],N[4]!==P||N[5]!==n?(a=(0,o.jsxs)(O.O.Header,{onDismiss:P,children:[t,n]}),N[4]=P,N[5]=n,N[6]=a):a=N[6],N[7]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",flexDirection:"row",p:3},N[7]=s):s=N[7];let R=`${I.author.login}.png`;return N[8]===Symbol.for("react.memo_cache_sentinel")?(l={mr:2,flexShrink:0},N[8]=l):l=N[8],N[9]!==R?(c=(0,o.jsx)(m.r,{src:R,sx:l}),N[9]=R,N[10]=c):c=N[10],N[11]===Symbol.for("react.memo_cache_sentinel")?(d={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},N[11]=d):d=N[11],N[12]!==I.author.login?(h=(0,o.jsx)(v.A,{sx:d,children:I.author.login}),N[12]=I.author.login,N[13]=h):h=N[13],N[14]!==h||N[15]!==c?(u=(0,o.jsxs)(v.A,{sx:s,children:[c,h]}),N[14]=h,N[15]=c,N[16]=u):u=N[16],N[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,o.jsx)(v.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),N[17]=f):f=N[17],N[18]!==I.message?(g=(0,o.jsx)(O.O.Content,{children:(0,o.jsx)(B.To,{markdown:I.message})}),N[18]=I.message,N[19]=g):g=N[19],N[20]===Symbol.for("react.memo_cache_sentinel")?(x=(0,o.jsx)(v.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),N[20]=x):x=N[20],N[21]!==I.repository.name||N[22]!==I.repository.owner?(b=(0,p.Do2)({name:I.repository.name,ownerLogin:I.repository.owner}),N[21]=I.repository.name,N[22]=I.repository.owner,N[23]=b):b=N[23],N[24]!==I.repository.name||N[25]!==I.repository.owner||N[26]!==b?(y=(0,o.jsxs)(O.O.DetailLink,{href:b,icon:w.RepoIcon,children:[I.repository.owner,"/",I.repository.name]}),N[24]=I.repository.name,N[25]=I.repository.owner,N[26]=b,N[27]=y):y=N[27],N[28]!==I.oid||N[29]!==I.permalink||N[30]!==I.repository.name||N[31]!==I.repository.owner?(j=(0,o.jsxs)(O.O.DetailLink,{href:I.permalink,icon:w.LinkExternalIcon,children:[I.repository.owner,"/",I.repository.name,"/commit/",I.oid]}),N[28]=I.oid,N[29]=I.permalink,N[30]=I.repository.name,N[31]=I.repository.owner,N[32]=j):j=N[32],N[33]!==y||N[34]!==j?(_=(0,o.jsxs)(O.O.Details,{children:[y,j]}),N[33]=y,N[34]=j,N[35]=_):_=N[35],N[36]!==D||N[37]!==k||N[38]!==u||N[39]!==g||N[40]!==_?(S=(0,o.jsxs)(O.O.Body,{detailsError:D,detailsLoading:k,children:[u,f,g,x,_]}),N[36]=D,N[37]=k,N[38]=u,N[39]=g,N[40]=_,N[41]=S):S=N[41],N[42]!==S||N[43]!==a?(C=(0,o.jsxs)(O.O.Frame,{children:[a,S]}),N[42]=S,N[43]=a,N[44]=C):C=N[44],C}try{$.displayName||($.displayName="CommitReferencePreview")}catch{}var F=r(67991);let M={SegmentedControl:"MarkdownReferencePreview-module__SegmentedControl--cxHSf"};function W(e){let t,r,n,a,s,l,c,d,h,u,g,v,_,S,C,N,I,k,D,P,R,L,A=(0,i.c)(65),{reference:E,details:T,detailsLoading:V,detailsError:B,onDismiss:$}=e,{contributors:F}=(0,x.u)(E.repoOwner,E.repoName,E.commitOID,E.path),[M]=(0,b.E)(E.repoOwner,E.repoName,E.commitOID,E.path),W=T?.repoIsOrgOwned,H=`${E.repoOwner}.png`;return A[0]===Symbol.for("react.memo_cache_sentinel")?(t={mr:2,flexShrink:0},A[0]=t):t=A[0],A[1]!==W||A[2]!==H?(r=(0,o.jsx)(m.r,{square:W,src:H,sx:t}),A[1]=W,A[2]=H,A[3]=r):r=A[3],A[4]===Symbol.for("react.memo_cache_sentinel")?(n={fontWeight:600,whiteSpace:"nowrap"},A[4]=n):n=A[4],A[5]!==E.repoName||A[6]!==E.repoOwner?(a=(0,o.jsxs)(y.A,{sx:n,children:[E.repoOwner,"/",E.repoName]}),A[5]=E.repoName,A[6]=E.repoOwner,A[7]=a):a=A[7],A[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)(y.A,{sx:{marginX:1},children:"\xb7"}),A[8]=s):s=A[8],A[9]===Symbol.for("react.memo_cache_sentinel")?(l={fontWeight:400},A[9]=l):l=A[9],A[10]!==E.ref?(c=(0,f.gE)(E.ref),A[10]=E.ref,A[11]=c):c=A[11],A[12]!==c?(d=(0,o.jsx)(y.A,{sx:l,children:c}),A[12]=c,A[13]=d):d=A[13],A[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)(y.A,{sx:{marginX:1},children:"\xb7"}),A[14]=h):h=A[14],A[15]===Symbol.for("react.memo_cache_sentinel")?(u={fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},A[15]=u):u=A[15],A[16]!==E.path?(g=(0,o.jsx)(y.A,{sx:u,children:E.path}),A[16]=E.path,A[17]=g):g=A[17],A[18]!==$||A[19]!==d||A[20]!==g||A[21]!==r||A[22]!==a?(v=(0,o.jsxs)(O.O.Header,{onDismiss:$,children:[r,a,s,d,h,g]}),A[18]=$,A[19]=d,A[20]=g,A[21]=r,A[22]=a,A[23]=v):v=A[23],A[24]!==T?(_=T&&(0,o.jsx)(z,{details:T}),A[24]=T,A[25]=_):_=A[25],A[26]!==E.repoName||A[27]!==E.repoOwner?(S=(0,p.Do2)({name:E.repoName,ownerLogin:E.repoOwner}),A[26]=E.repoName,A[27]=E.repoOwner,A[28]=S):S=A[28],A[29]!==E.repoName||A[30]!==E.repoOwner||A[31]!==S?(C=(0,o.jsxs)(O.O.DetailLink,{href:S,icon:w.RepoIcon,children:[E.repoOwner,"/",E.repoName]}),A[29]=E.repoName,A[30]=E.repoOwner,A[31]=S,A[32]=C):C=A[32],A[33]!==F||A[34]!==T?.range||A[35]!==E.commitOID||A[36]!==E.path||A[37]!==E.repoName||A[38]!==E.repoOwner?(N=F&&(0,o.jsxs)(O.O.DetailLink,{icon:w.PeopleIcon,href:(0,p.buO)({owner:E.repoOwner,repo:E.repoName,commitish:E.commitOID,filePath:E.path,lineNumber:T?.range.start}),children:[F.totalCount," contributors"]}),A[33]=F,A[34]=T?.range,A[35]=E.commitOID,A[36]=E.path,A[37]=E.repoName,A[38]=E.repoOwner,A[39]=N):N=A[39],A[40]!==M||A[41]!==E.repoName||A[42]!==E.repoOwner?(I=M&&(0,o.jsxs)(O.O.DetailLink,{icon:w.HistoryIcon,href:(0,p.$Qz)({owner:E.repoOwner,repo:E.repoName,commitish:M?.oid}),children:[M?.author?.displayName," updated ",(0,o.jsx)(j.A,{datetime:M?.date})]}),A[40]=M,A[41]=E.repoName,A[42]=E.repoOwner,A[43]=I):I=A[43],A[44]!==T?(k=T?(0,o.jsxs)(o.Fragment,{children:["#",T.range.start,"-",T.range.end]}):null,A[44]=T,A[45]=k):k=A[45],A[46]!==E.path||A[47]!==E.repoName||A[48]!==E.repoOwner||A[49]!==E.url||A[50]!==k?(D=(0,o.jsxs)(O.O.DetailLink,{icon:w.LinkExternalIcon,href:E.url,children:[E.repoOwner,"/",E.repoName,"/",E.path,k]}),A[46]=E.path,A[47]=E.repoName,A[48]=E.repoOwner,A[49]=E.url,A[50]=k,A[51]=D):D=A[51],A[52]!==C||A[53]!==N||A[54]!==I||A[55]!==D?(P=(0,o.jsxs)(O.O.Details,{children:[C,N,I,D]}),A[52]=C,A[53]=N,A[54]=I,A[55]=D,A[56]=P):P=A[56],A[57]!==B||A[58]!==V||A[59]!==_||A[60]!==P?(R=(0,o.jsxs)(O.O.Body,{detailsLoading:V,detailsError:B,children:[_,P]}),A[57]=B,A[58]=V,A[59]=_,A[60]=P,A[61]=R):R=A[61],A[62]!==v||A[63]!==R?(L=(0,o.jsxs)(O.O.Frame,{children:[v,R]}),A[62]=v,A[63]=R,A[64]=L):L=A[64],L}function z(e){let t,r,n,a,s,l,c,d,h,u,m,p,f,g,x,b,w,y,j=(0,i.c)(51),{details:_}=e,[S,C]=(0,N.useState)(_.range.start),[I,k]=(0,N.useState)(_.range.end);t=U(_.contents,_.contents.length);let[D,A]=(0,N.useState)("preview");j[0]!==D?(r=e=>{let t=["preview","code"][e];t&&D!==t&&A(t)},j[0]=D,j[1]=r):r=j[1];let E=r,T=_?.headerInfo;j[2]!==_.contents||j[3]!==S?(n=()=>{C(function(e,t){let r=G(e,t),n=function(e){let t;for(let r of e)t=r;return t}(e.slice(0,r).matchAll(/^#+\s/gm));return U(e,n?.index??0)}(_.contents,S))},j[2]=_.contents,j[3]=S,j[4]=n):n=j[4];let V=n;j[5]!==_.contents||j[6]!==I||j[7]!==t?(a=()=>{let e=I;for(;e<t&&e<I+10;)e=function(e,t){let r=G(e,t),n=e.slice(r).match(/^#+\s/m),a=n?r+n.index:e.length;return U(e,a)}(_.contents,e+1);k(e-1)},j[5]=_.contents,j[6]=I,j[7]=t,j[8]=a):a=j[8];let $=a,W=_.contents;if(S){let e;if(j[9]!==I||j[10]!==W||j[11]!==S){let e=function(e,t,r=t-1){let n=-1,a=-1,o=-1;for(let i=1;;i++){if(i===t&&(a=n+1),i===r+1){o=n;break}if(-1===(n=e.indexOf(`
`,n+1)))break}return{startIndex:a,endIndex:o}}(W,S,I);e.endIndex>-1&&(W=W.slice(e.startIndex,e.endIndex)),j[9]=I,j[10]=W,j[11]=S,j[12]=W}else W=j[12];j[13]!==W?(e=W.replace(/^---\n[\s\S]*?\n---\n/,""),j[13]=W,j[14]=e):e=j[14],W=e}s=W,j[15]===Symbol.for("react.memo_cache_sentinel")?(l={border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},j[15]=l):l=j[15],j[16]===Symbol.for("react.memo_cache_sentinel")?(c={display:"flex",alignItems:"baseline",gap:2},j[16]=c):c=j[16];let z="preview"===D;j[17]!==z?(d=(0,o.jsx)(F.I.Button,{selected:z,children:"Preview"},"preview'"),j[17]=z,j[18]=d):d=j[18];let q="code"===D;return j[19]!==q?(h=(0,o.jsx)(F.I.Button,{selected:q,children:"Code"},"raw"),j[19]=q,j[20]=h):h=j[20],j[21]!==E||j[22]!==h||j[23]!==d?(u=(0,o.jsxs)(F.I,{"aria-label":"File view",size:"small",onChange:E,className:M.SegmentedControl,children:[d,h]}),j[21]=E,j[22]=h,j[23]=d,j[24]=u):u=j[24],j[25]!==T?(m=T&&(0,o.jsx)(R,{headerInfo:T}),j[25]=T,j[26]=m):m=j[26],j[27]!==u||j[28]!==m?(p=(0,o.jsxs)(v.A,{sx:c,children:[u,m]}),j[27]=u,j[28]=m,j[29]=p):p=j[29],j[30]!==T?(f=T&&(0,o.jsx)(L,{headerInfo:T}),j[30]=T,j[31]=f):f=j[31],j[32]!==p||j[33]!==f?(g=(0,o.jsxs)(P,{children:[p,f]}),j[32]=p,j[33]=f,j[34]=g):g=j[34],j[35]!==V||j[36]!==S?(x=S>1&&(0,o.jsx)(O.O.ContentExpander,{direction:"above",onExpand:V}),j[35]=V,j[36]=S,j[37]=x):x=j[37],j[38]!==_.contents||j[39]!==D||j[40]!==s?(b=(0,o.jsx)(O.O.Content,{children:"preview"===D?(0,o.jsx)(v.A,{className:"js-snippet-clipboard-copy-unpositioned",sx:{".highlighted":{backgroundColor:H}},children:(0,o.jsx)(B.To,{markdown:s,openLinksInCurrentTab:!1})}):(0,o.jsx)("code",{children:(0,o.jsx)(v.A,{as:"pre",sx:{overflowX:"auto"},children:_.contents})})}),j[38]=_.contents,j[39]=D,j[40]=s,j[41]=b):b=j[41],j[42]!==I||j[43]!==$||j[44]!==t?(w=I<t&&(0,o.jsx)(O.O.ContentExpander,{direction:"below",onExpand:$}),j[42]=I,j[43]=$,j[44]=t,j[45]=w):w=j[45],j[46]!==g||j[47]!==x||j[48]!==b||j[49]!==w?(y=(0,o.jsxs)(v.A,{sx:l,children:[g,x,b,w]}),j[46]=g,j[47]=x,j[48]=b,j[49]=w,j[50]=y):y=j[50],y}function H(e){return`${e.colors.accent.subtle}`}function U(e,t){return function(e){let t=0;for(let r of e)t++;return t}(e.slice(0,t).matchAll(/\n/g))+1}function G(e,t){if(1===t)return 0;let r=-1;for(let n=2;n<=t;n++)if(-1===(r=e.indexOf(`
`,r+1)))return e.length;return r+1}try{W.displayName||(W.displayName="MarkdownReferencePreview")}catch{}try{z.displayName||(z.displayName="MarkdownReferencePreviewContent")}catch{}function q(e){let t,r,n,a,s,l,c,d,h,u,f,g,x,b,y,j,_,S,C,N=(0,i.c)(42),{reference:I,detailsLoading:k,detailsError:D,onDismiss:P}=e;N[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(V.A,{icon:w.GitCommitIcon,sx:{mr:2}}),N[0]=t):t=N[0],N[1]===Symbol.for("react.memo_cache_sentinel")?(r={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},N[1]=r):r=N[1],N[2]!==I.title?(n=(0,o.jsx)(v.A,{sx:r,children:I.title}),N[2]=I.title,N[3]=n):n=N[3],N[4]!==P||N[5]!==n?(a=(0,o.jsxs)(O.O.Header,{onDismiss:P,children:[t,n]}),N[4]=P,N[5]=n,N[6]=a):a=N[6],N[7]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",flexDirection:"row",p:3},N[7]=s):s=N[7];let R=`${I.authorLogin}.png`;return N[8]===Symbol.for("react.memo_cache_sentinel")?(l={mr:2,flexShrink:0},N[8]=l):l=N[8],N[9]!==R?(c=(0,o.jsx)(m.r,{src:R,sx:l}),N[9]=R,N[10]=c):c=N[10],N[11]===Symbol.for("react.memo_cache_sentinel")?(d={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},N[11]=d):d=N[11],N[12]!==I.authorLogin?(h=(0,o.jsx)(v.A,{sx:d,children:I.authorLogin}),N[12]=I.authorLogin,N[13]=h):h=N[13],N[14]!==h||N[15]!==c?(u=(0,o.jsxs)(v.A,{sx:s,children:[c,h]}),N[14]=h,N[15]=c,N[16]=u):u=N[16],N[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,o.jsx)(v.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),N[17]=f):f=N[17],N[18]!==I.title?(g=(0,o.jsx)(O.O.Content,{children:(0,o.jsx)(B.To,{markdown:I.title})}),N[18]=I.title,N[19]=g):g=N[19],N[20]===Symbol.for("react.memo_cache_sentinel")?(x=(0,o.jsx)(v.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),N[20]=x):x=N[20],N[21]!==I.repository.name||N[22]!==I.repository.ownerLogin?(b=(0,p.Do2)({name:I.repository.name,ownerLogin:I.repository.ownerLogin}),N[21]=I.repository.name,N[22]=I.repository.ownerLogin,N[23]=b):b=N[23],N[24]!==I.repository.name||N[25]!==I.repository.ownerLogin||N[26]!==b?(y=(0,o.jsxs)(O.O.DetailLink,{href:b,icon:w.RepoIcon,children:[I.repository.ownerLogin,"/",I.repository.name]}),N[24]=I.repository.name,N[25]=I.repository.ownerLogin,N[26]=b,N[27]=y):y=N[27],N[28]!==I.url?(j=(0,o.jsx)(O.O.DetailLink,{href:I.url,icon:w.LinkExternalIcon,children:I.url}),N[28]=I.url,N[29]=j):j=N[29],N[30]!==y||N[31]!==j?(_=(0,o.jsxs)(O.O.Details,{children:[y,j]}),N[30]=y,N[31]=j,N[32]=_):_=N[32],N[33]!==D||N[34]!==k||N[35]!==u||N[36]!==g||N[37]!==_?(S=(0,o.jsxs)(O.O.Body,{detailsError:D,detailsLoading:k,children:[u,f,g,x,_]}),N[33]=D,N[34]=k,N[35]=u,N[36]=g,N[37]=_,N[38]=S):S=N[38],N[39]!==S||N[40]!==a?(C=(0,o.jsxs)(O.O.Frame,{children:[a,S]}),N[39]=S,N[40]=a,N[41]=C):C=N[41],C}try{q.displayName||(q.displayName="PullRequestReferencePreview")}catch{}function J(e){let t,r,n,a,s=(0,i.c)(20),{reference:l,details:c,detailsLoading:d,detailsError:h,onDismiss:u}=e,m=new Map,f=new Map;if(c?.kind==="suggestionSymbol")for(let e of c.suggestionDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;m.has(t)||m.set(t,[]),m.get(t).push(e)}else if(c?.kind==="codeNavSymbol"){for(let e of c.codeNavDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;m.has(t)||m.set(t,[]),m.get(t).push(e)}for(let e of c?.codeNavReferences??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;f.has(t)||f.set(t,[]),f.get(t).push(e)}}let g=[...m.values()][0]?.[0]??[...f.values()][0]?.[0],y=m.size>0,v=f.size>0,_=[...m.values()].length,S=[...m.values()].reduce(Z,0),C=[...f.values()].length,N=[...f.values()].reduce(Y,0),{contributors:I}=(0,x.u)(g?.repoOwner,g?.repoName,g?.commitOID,g?.path),[k]=(0,b.E)(g?.repoOwner,g?.repoName,g?.commitOID,g?.path),D=O.O;s[0]!==u||s[1]!==l.name?(t=(0,o.jsx)(O.O.Header,{onDismiss:u,children:l.name}),s[0]=u,s[1]=l.name,s[2]=t):t=s[2];let P=O.O,R=y&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(O.O.SectionDivider,{children:[S," ",1===S?"definition":"definitions",_>1?` across ${_} files`:null]}),[...m.values()].map(X)]}),L=v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(O.O.SectionDivider,{children:[N," ",1===N?"reference":"references",C>1?` across ${C} files`:null]}),[...f.values()].map((e,t)=>(0,o.jsx)(O.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t&&!y,children:(0,o.jsx)(O.O.Content,{children:e.map(Q)})},e[0].path))]}),A=O.O,E=g&&(0,o.jsxs)(O.O.DetailLink,{href:(0,p.Do2)({name:g.repoName,ownerLogin:g.repoOwner}),icon:w.RepoIcon,children:[g.repoOwner,"/",g.repoName]}),T=I&&g&&(0,o.jsxs)(O.O.DetailLink,{icon:w.PeopleIcon,href:(0,p.buO)({owner:g.repoOwner,repo:g.repoName,commitish:g.commitOID,filePath:g.path}),children:[I.totalCount," ",1===I.totalCount?"contributor":"contributors"]}),V=k&&g&&(0,o.jsxs)(O.O.DetailLink,{icon:w.HistoryIcon,href:(0,p.$Qz)({owner:g.repoOwner,repo:g.repoName,commitish:k?.oid}),children:[k?.author?.displayName," updated ",(0,o.jsx)(j.A,{datetime:k?.date})]}),B=g&&(0,o.jsxs)(O.O.DetailLink,{icon:w.LinkExternalIcon,href:(0,p.nD_)({owner:g.repoOwner,repo:g.repoName,commitish:g.commitOID,filePath:g.path}),children:[g.repoOwner,"/",g.repoName,"/",g.path]});return s[3]!==B||s[4]!==A.Details||s[5]!==E||s[6]!==T||s[7]!==V?(r=(0,o.jsxs)(A.Details,{children:[E,T,V,B]}),s[3]=B,s[4]=A.Details,s[5]=E,s[6]=T,s[7]=V,s[8]=r):r=s[8],s[9]!==h||s[10]!==d||s[11]!==r||s[12]!==P.Body||s[13]!==R||s[14]!==L?(n=(0,o.jsxs)(P.Body,{detailsError:h,detailsLoading:d,children:[R,L,r]}),s[9]=h,s[10]=d,s[11]=r,s[12]=P.Body,s[13]=R,s[14]=L,s[15]=n):n=s[15],s[16]!==D.Frame||s[17]!==n||s[18]!==t?(a=(0,o.jsxs)(D.Frame,{children:[t,n]}),s[16]=D.Frame,s[17]=n,s[18]=t,s[19]=a):a=s[19],a}function Q(e,t){return e.highlightedContents?(0,o.jsx)(k,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:ee(e)},t):null}function X(e,t){return(0,o.jsx)(O.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t,children:(0,o.jsx)(O.O.Content,{children:e.map(K)})},e[0].path)}function K(e,t){return e.highlightedContents?(0,o.jsx)(k,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:ee(e)},t):null}function Y(e,t){return e+t.length}function Z(e,t){return e+t.length}function ee({range:e}){return e?Array(e.end-e.start+1).fill(null).map((t,r)=>e.start+r):[]}try{J.displayName||(J.displayName="SymbolReferencePreview")}catch{}function et(e){let t,r,n,a,s,l,c,d,h,u,f,g,y,_,S=(0,i.c)(48),{reference:C,details:N,detailsLoading:I,detailsError:k,onDismiss:D}=e,P=C.headFile??C.baseFile,{contributors:R}=(0,x.u)(P.repoOwner,P.repoName,P.commitOID,P.path),[L]=(0,b.E)(P.repoOwner,P.repoName,P.commitOID,P.path);S[0]!==C?(t=(e=>{let t,r=(t=e.selectedRange,t?.start?t.end?`${t.start}-${t.end}`:`${t.start}`:""),n=e.url.split(window.location.host)[1];return{href:e.url+r,path:n+r,range:r}})(C),S[0]=C,S[1]=t):t=S[1];let{href:A,path:E,range:T}=t,V=N?.repoIsOrgOwned,B=`${P.repoOwner}.png`;return S[2]===Symbol.for("react.memo_cache_sentinel")?(r={mr:2,flexShrink:0},S[2]=r):r=S[2],S[3]!==V||S[4]!==B?(n=(0,o.jsx)(m.r,{square:V,src:B,sx:r}),S[3]=V,S[4]=B,S[5]=n):n=S[5],S[6]===Symbol.for("react.memo_cache_sentinel")?(a={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},S[6]=a):a=S[6],S[7]!==P.path||S[8]!==P.repoName||S[9]!==P.repoOwner||S[10]!==T?(s=(0,o.jsxs)(v.A,{sx:a,children:[P.repoOwner,"/",P.repoName,"/",P.path," ",T]}),S[7]=P.path,S[8]=P.repoName,S[9]=P.repoOwner,S[10]=T,S[11]=s):s=S[11],S[12]!==D||S[13]!==n||S[14]!==s?(l=(0,o.jsxs)(O.O.Header,{onDismiss:D,children:[n,s]}),S[12]=D,S[13]=n,S[14]=s,S[15]=l):l=S[15],S[16]!==P.repoName||S[17]!==P.repoOwner?(c=(0,p.Do2)({name:P.repoName,ownerLogin:P.repoOwner}),S[16]=P.repoName,S[17]=P.repoOwner,S[18]=c):c=S[18],S[19]!==P.repoName||S[20]!==P.repoOwner||S[21]!==c?(d=(0,o.jsxs)(O.O.DetailLink,{href:c,icon:w.RepoIcon,children:[P.repoOwner,"/",P.repoName]}),S[19]=P.repoName,S[20]=P.repoOwner,S[21]=c,S[22]=d):d=S[22],S[23]!==P.commitOID||S[24]!==P.path||S[25]!==P.repoName||S[26]!==P.repoOwner||S[27]!==R?(h=R&&(0,o.jsxs)(O.O.DetailLink,{icon:w.PeopleIcon,href:(0,p.buO)({owner:P.repoOwner,repo:P.repoName,commitish:P.commitOID,filePath:P.path}),children:[R.totalCount," ",1===R.totalCount?"contributor":"contributors"]}),S[23]=P.commitOID,S[24]=P.path,S[25]=P.repoName,S[26]=P.repoOwner,S[27]=R,S[28]=h):h=S[28],S[29]!==P.repoName||S[30]!==P.repoOwner||S[31]!==L?(u=L&&(0,o.jsxs)(O.O.DetailLink,{icon:w.HistoryIcon,href:(0,p.$Qz)({owner:P.repoOwner,repo:P.repoName,commitish:L?.oid}),children:[L?.author?.displayName," updated ",(0,o.jsx)(j.A,{datetime:L?.date})]}),S[29]=P.repoName,S[30]=P.repoOwner,S[31]=L,S[32]=u):u=S[32],S[33]!==A||S[34]!==E?(f=(0,o.jsx)(O.O.DetailLink,{icon:w.LinkExternalIcon,href:A,children:E}),S[33]=A,S[34]=E,S[35]=f):f=S[35],S[36]!==d||S[37]!==h||S[38]!==u||S[39]!==f?(g=(0,o.jsxs)(O.O.Details,{children:[d,h,u,f]}),S[36]=d,S[37]=h,S[38]=u,S[39]=f,S[40]=g):g=S[40],S[41]!==k||S[42]!==I||S[43]!==g?(y=(0,o.jsx)(O.O.Body,{detailsError:k,detailsLoading:I,children:g}),S[41]=k,S[42]=I,S[43]=g,S[44]=y):y=S[44],S[45]!==y||S[46]!==l?(_=(0,o.jsxs)(O.O.Frame,{children:[l,y]}),S[45]=y,S[46]=l,S[47]=_):_=S[47],_}try{et.displayName||(et.displayName="FileDiffReferencePreview")}catch{}var er=r(59706);function en(e){let t,r=(0,i.c)(6),{dismissable:n}=e,{reference:a,details:s,detailsLoading:l,detailsError:c,dismissReference:d}=eo(),h=n?d:void 0;return r[0]!==s||r[1]!==c||r[2]!==l||r[3]!==a||r[4]!==h?(t=(0,o.jsx)(ea,{reference:a,details:s,detailsLoading:l,detailsError:c,onDismiss:h}),r[0]=s,r[1]=c,r[2]=l,r[3]=a,r[4]=h,r[5]=t):t=r[5],t}function ea(e){let t=(0,i.c)(46),{reference:r,details:n,detailsLoading:a,detailsError:s,onDismiss:l}=e;switch(r.type){case"symbol":{let e,i;return t[0]!==r?(e=(0,h.Vb)(r),t[0]=r,t[1]=e):e=t[1],t[2]!==s||t[3]!==a||t[4]!==l||t[5]!==r||t[6]!==e||t[7]!==n?(i=(0,o.jsx)(J,{reference:r,details:n,detailsLoading:a,detailsError:s,onDismiss:l},e),t[2]=s,t[3]=a,t[4]=l,t[5]=r,t[6]=e,t[7]=n,t[8]=i):i=t[8],i}case"file":case"snippet":{let e;return t[9]!==n||t[10]!==s||t[11]!==a||t[12]!==l||t[13]!==r?(e="Markdown"===r.languageName?(0,o.jsx)(W,{reference:r,details:n,detailsError:s,detailsLoading:a,onDismiss:l},(0,h.Vb)(r)):(0,o.jsx)(D,{reference:r,details:n,detailsLoading:a,detailsError:s,onDismiss:l},(0,h.Vb)(r)),t[9]=n,t[10]=s,t[11]=a,t[12]=l,t[13]=r,t[14]=e):e=t[14],e}case"file-diff":{let e,i;return t[15]!==r?(e=(0,h.Vb)(r),t[15]=r,t[16]=e):e=t[16],t[17]!==s||t[18]!==a||t[19]!==l||t[20]!==r||t[21]!==e||t[22]!==n?(i=(0,o.jsx)(et,{reference:r,details:n,detailsLoading:a,detailsError:s,onDismiss:l},e),t[17]=s,t[18]=a,t[19]=l,t[20]=r,t[21]=e,t[22]=n,t[23]=i):i=t[23],i}case"commit":{let e,n;return t[24]!==r?(e=(0,h.Vb)(r),t[24]=r,t[25]=e):e=t[25],t[26]!==s||t[27]!==a||t[28]!==l||t[29]!==r||t[30]!==e?(n=(0,o.jsx)($,{reference:r,detailsLoading:a,detailsError:s,onDismiss:l},e),t[26]=s,t[27]=a,t[28]=l,t[29]=r,t[30]=e,t[31]=n):n=t[31],n}case"pull-request":{let e,n;return t[32]!==r?(e=(0,h.Vb)(r),t[32]=r,t[33]=e):e=t[33],t[34]!==s||t[35]!==a||t[36]!==l||t[37]!==r||t[38]!==e?(n=(0,o.jsx)(q,{reference:r,detailsLoading:a,detailsError:s,onDismiss:l},e),t[34]=s,t[35]=a,t[36]=l,t[37]=r,t[38]=e,t[39]=n):n=t[39],n}case"web-search":{let e,n;return t[40]!==r?(e=(0,h.Vb)(r),t[40]=r,t[41]=e):e=t[41],t[42]!==l||t[43]!==r||t[44]!==e?(n=(0,o.jsx)(er.I,{reference:r,onDismiss:l},e),t[42]=l,t[43]=r,t[44]=e,t[45]=n):n=t[45],n}default:return null}}function eo(){let e,t,r,n,a,o,s=(0,i.c)(19),l=(0,d.b)(),m=(0,c.Pk)().selectedReference,p=m?.type;s[0]!==m?(e=m?(0,h.Vb)(m):void 0,s[0]=m,s[1]=e):e=s[1],s[2]!==p||s[3]!==e?(t=["copilot-reference-preview","copilot","references",p,e],s[2]=p,s[3]=e,s[4]=t):t=s[4],s[5]!==l||s[6]!==m?(r=async()=>{if(!m)return null;let e=await l.service.hydrateReference(m);return e.ok?e.payload:null},s[5]=l,s[6]=m,s[7]=r):r=s[7],s[8]!==t||s[9]!==r?(n={queryKey:t,queryFn:r,staleTime:5e-324},s[8]=t,s[9]=r,s[10]=n):n=s[10];let{isLoading:f,isError:g,data:x}=(0,u.I)(n);s[11]!==l?(a=()=>l.selectReference(null),s[11]=l,s[12]=a):a=s[12];let b=a,w=x??void 0;return s[13]!==b||s[14]!==g||s[15]!==f||s[16]!==m||s[17]!==w?(o={reference:m,dismissReference:b,details:w,detailsLoading:f,detailsError:g},s[13]=b,s[14]=g,s[15]=f,s[16]=m,s[17]=w,s[18]=o):o=s[18],o}try{en.displayName||(en.displayName="CopilotReferencePreview")}catch{}try{ea.displayName||(ea.displayName="CopilotReferencePreviewImpl")}catch{}function ei(){var e;let t,r,n,a,c,d=(0,i.c)(13),{dismissReference:h,reference:u}=eo(),{screenSize:m}=(0,l.lm)(),p=m<l.Gy.large;d[0]!==u?(e=u,t=e?.type==="web-search"?`Bing search results for "${e.query}"`:"Reference",d[0]=u,d[1]=t):t=d[1];let f=t,g=!!u;return d[2]!==p?(r={display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:"var(--borderRadius-large)",margin:0,...p?{height:["auto","auto"],top:"1dvh",width:"90dvw"}:{top:"10vh",width:"50dvw",maxWidth:"1024px"}},d[2]=p,d[3]=r):r=d[3],d[4]!==f?(n=(0,o.jsx)(s.A.Header,{children:f}),d[4]=f,d[5]=n):n=d[5],d[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,o.jsx)(en,{}),d[6]=a):a=d[6],d[7]!==h||d[8]!==g||d[9]!==r||d[10]!==n||d[11]!==f?(c=(0,o.jsxs)(s.A,{"aria-label":f,isOpen:g,onDismiss:h,sx:r,children:[n,a]}),d[7]=h,d[8]=g,d[9]=r,d[10]=n,d[11]=f,d[12]=c):c=d[12],c}try{ei.displayName||(ei.displayName="CopilotReferencePreviewDialog")}catch{}var es=r(66871),el=r(38007),ec=r(37573),ed=r(96615),eh=r(60039),eu=r(6442),em=r(55847),ep=r(94977),ef=r(34164),eg=r(18312),ex=r(70757),eb=r(27851),ew=r(42080),ey=r(26807),ev=r(59214),ej=r(91819),e_=r(33900),eS=r(74244),eC=r(44435);let eN={copilotChatPanel:"ChatPanel-module__copilotChatPanel--YfhVH",Overlay_1:"ChatPanel-module__Overlay_1--yDvKe",ChatPanelContainer:"ChatPanel-module__ChatPanelContainer--LA3ES",verticalResizeTarget:"ChatPanel-module__verticalResizeTarget--oe2N2",horizontalResizeTarget:"ChatPanel-module__horizontalResizeTarget--FGshS",cornerResizeTarget:"ChatPanel-module__cornerResizeTarget--d741U",panelContentContainer:"ChatPanel-module__panelContentContainer--hMn7b"};var eO=r(85466);let eI={FloatingButtonContainer:"FloatingButton-module__FloatingButtonContainer--irCte"},ek=()=>{let e,t,r=(0,i.c)(7),n=(0,c.Pk)(),a=(0,d.b)();r[0]!==n?(e=(0,eC.W)(n),r[0]=n,r[1]=e):e=r[1];let s=e;return r[2]!==a||r[3]!==n.chatVisibleSettingPath||r[4]!==n.currentView||r[5]!==s?(t=(0,o.jsx)(eO.v,{tabIndex:-1,id:"copilot-floating-button",icon:w.CopilotIcon,label:"Open Copilot chat","aria-controls":ej.wJ,tooltipDirection:"w",onClick:()=>{a.openChat(s,n.currentView,"floating-button-v2",n.chatVisibleSettingPath)},"data-hotkey":"Shift+Z",className:eI.FloatingButtonContainer}),r[2]=a,r[3]=n.chatVisibleSettingPath,r[4]=n.currentView,r[5]=s,r[6]=t):t=r[6],t};try{ek.displayName||(ek.displayName="FloatingButton")}catch{}var eD=r(42342);let eP=e=>{let t,r,n,a,s,l,u,m=(0,i.c)(27),{children:p,initialFocusRef:f,staffDialogRef:g,handleClose:x,panelWidth:b,panelHeight:w,startResize:y,onResizerKeyDown:j}=e,_=(0,c.Pk)(),{chatIsOpen:S,chatIsVisible:C,currentTopic:O}=_,I=_.entryPointId??ej.fv,k=(0,N.useRef)(null),D=(0,N.useRef)(null);m[0]!==I?(t=()=>{D.current=document.getElementById(I)},r=[I],m[0]=I,m[1]=t,m[2]=r):(t=m[1],r=m[2]),(0,N.useEffect)(t,r),m[3]!==x?(n=()=>{k.current&&k.current.contains(document.activeElement)&&x(!0)},m[3]=x,m[4]=n):n=m[4];let P=n,R=(0,d.b)();m[5]!==_?(a=(0,eC.W)(_),m[5]=_,m[6]=a):a=m[6];let L=a,A=(0,ey.Z)();m[7]!==O||m[8]!==A||m[9]!==_.currentReferences||m[10]!==L?(s=()=>{(0,el.BI)("dotcom_chat.activate",{target:"IMMERSIVE_OPTION",mode:"assistive"}),eS.Jt.setCurrentReferences(L?.id??null,_.currentReferences),L?A(`${h.Jz}/c/${L.id}`):O&&(0,h.Z6)(O)?A(`${h.Jz}/r/${O.ownerLogin}/${O.name}`):A(h.Jz)},m[7]=O,m[8]=A,m[9]=_.currentReferences,m[10]=L,m[11]=s):s=m[11];let E=s;return m[12]!==S||m[13]!==C||m[14]!==p||m[15]!==f||m[16]!==R||m[17]!==E||m[18]!==P||m[19]!==j||m[20]!==w||m[21]!==b||m[22]!==g||m[23]!==y?(l=S?(0,o.jsxs)(ev.Ay,{id:ej.wJ,className:(0,ef.$)(eN.copilotChatPanel,eN.Overlay_1),ref:k,portalContainerName:(0,eb.G7)("primer_react_unified_portal_root")?void 0:eD.Gj,onEscape:P,onClickOutside:eR,ignoreClickRefs:[g],initialFocusRef:f,returnFocusRef:D,sx:{height:S?`${w}px`:"48px",minHeight:S?`${e_.cx}px`:void 0,width:S?`${b}px`:"400px",minWidth:`${e_.Ld}px`},right:8,bottom:8,anchorSide:"inside-top",position:"fixed",role:"dialog","aria-labelledby":ej.Qs,children:[(0,o.jsx)(ew.ak,{commands:{"copilot-chat:close-assistive":()=>R.closeChat()}}),(0,o.jsx)(ew.tL,{commands:{"copilot-chat:continue-in-immersive":E},children:(0,o.jsx)("section",{id:ej.Qs,"aria-label":"Copilot chat panel",style:{height:"100%"},children:(0,o.jsxs)("div",{"data-testid":ej.Qs,className:eN.ChatPanelContainer,children:[(0,o.jsx)(v.A,{id:"vertical-resize-click-target",sx:{cursor:S?"ns-resize":void 0},onMouseDown:e=>y(e,!1,!0),className:eN.verticalResizeTarget}),(0,o.jsx)(v.A,{sx:{cursor:S?"ew-resize":void 0},onMouseDown:e=>y(e,!0,!1),className:eN.horizontalResizeTarget}),(0,o.jsx)(v.A,{sx:{cursor:S?"nwse-resize":"undefined"},"aria-label":"Chat panel resizer","aria-valuetext":`${b}, ${w}`,"aria-valuenow":b,role:"separator",onMouseDown:e=>y(e,!0,!0),tabIndex:0,onKeyDown:j,className:eN.cornerResizeTarget}),(0,o.jsx)("div",{className:eN.panelContentContainer,children:p})]})})})]}):C&&!(0,eb.G7)("copilot_no_floating_button")?(0,o.jsx)(ek,{}):null,m[12]=S,m[13]=C,m[14]=p,m[15]=f,m[16]=R,m[17]=E,m[18]=P,m[19]=j,m[20]=w,m[21]=b,m[22]=g,m[23]=y,m[24]=l):l=m[24],m[25]!==l?(u=(0,o.jsx)(o.Fragment,{children:l}),m[25]=l,m[26]=u):u=m[26],u};try{eP.displayName||(eP.displayName="ChatPanel")}catch{}function eR(){}var eL=r(34700),eA=r(7479),eE=r(84217),eT=r(47139),eV=r(10569),eB=r(15385),e$=r(99377),eF=r(31971),eM=r(33484);let eW={HeaderContainer:"Header-module__HeaderContainer--SeJOE",headerTitleContainer:"Header-module__headerTitleContainer--vF7I3",HeaderTitle:"Header-module__HeaderTitle--eO3BF",headerActions:"Header-module__headerActions--iiiFe",betaLabel:"Header-module__betaLabel--m17DA",actionButton:"Header-module__actionButton--B2SP4",buttonSeparator:"Header-module__buttonSeparator--kpI9z"};var ez=r(75320),eH=r(73451),eU=r(34614),eG=r(9591),eq=r(16255),eJ=r(9852),eQ=r(39226);let eX={dialogContentContainer:"ExperimentsDialog-module__dialogContentContainer--e7sQ_",experimentsInput:"ExperimentsDialog-module__experimentsInput--vGvhl"},eK=e=>{let t,r,n,a,s,l,c,d,h,u,m,p,f,g=(0,i.c)(29),{onDismiss:x,experimentsDialogRef:b}=e,[w,y]=(0,N.useState)(eY),[v,j]=(0,N.useState)(void 0),_=(0,N.useRef)("\u200B");g[0]!==w||g[1]!==x?(t=()=>{let e=[];for(let t of w.split(","))if(""!==t.trim()){if(2!==t.split("=").length){j(`Invalid experiment key=value pair${_.current}`),_.current=_.current+"\u200B";return}j(""),e.push(t)}(0,eQ.R)(e),x()},g[0]=w,g[1]=x,g[2]=t):t=g[2];let S=t;return g[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,o.jsx)(eH.A.Label,{children:"Experiments"}),g[3]=r):r=g[3],g[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,o.jsx)("code",{children:"key=value"}),g[4]=n):n=g[4],g[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,o.jsx)(eH.A.Caption,{children:(0,o.jsxs)("span",{children:["List experiments as comma separated ",n," pairs. To see available experiments,"," ",(0,o.jsx)(eU.A,{inline:!0,target:"_blank",href:`/search?q=${encodeURIComponent("repo:github/copilot-api path:experiments.go")}`,children:"read this code"}),"."]})}),g[5]=a):a=g[5],g[6]===Symbol.for("react.memo_cache_sentinel")?(s=e=>y(e.target.value),g[6]=s):s=g[6],g[7]!==S?(l=e=>{"Enter"===e.key&&S()},g[7]=S,g[8]=l):l=g[8],g[9]!==w||g[10]!==l?(c=(0,o.jsx)(eG.A,{"aria-label":"Experiments",name:"experiments",value:w,onChange:s,onKeyDown:l,className:eX.experimentsInput}),g[9]=w,g[10]=l,g[11]=c):c=g[11],g[12]!==v?(d=v&&(0,o.jsx)(eH.A.Validation,{variant:"error",children:v}),g[12]=v,g[13]=d):d=g[13],g[14]!==c||g[15]!==d?(h=(0,o.jsx)(eJ.l.Body,{children:(0,o.jsx)("div",{className:eX.dialogContentContainer,children:(0,o.jsxs)(eH.A,{children:[r,a,c,d]})})}),g[14]=c,g[15]=d,g[16]=h):h=g[16],g[17]!==x?(u={type:"button",onClick:x,content:"Cancel"},g[17]=x,g[18]=u):u=g[18],g[19]!==S?(m={type:"button",onClick:S,content:"Save",buttonType:"primary"},g[19]=S,g[20]=m):m=g[20],g[21]!==u||g[22]!==m?(p=(0,o.jsx)(eJ.l.Footer,{children:(0,o.jsx)(eJ.l.Buttons,{buttons:[u,m]})}),g[21]=u,g[22]=m,g[23]=p):p=g[23],g[24]!==b||g[25]!==x||g[26]!==p||g[27]!==h?(f=(0,o.jsx)(eq.Z,{children:(0,o.jsxs)(eJ.l,{ref:b,onClose:x,title:"Experiments",width:"xlarge",children:[h,p]})}),g[24]=b,g[25]=x,g[26]=p,g[27]=h,g[28]=f):f=g[28],f};try{eK.displayName||(eK.displayName="ExperimentsDialog")}catch{}function eY(){return(0,eQ.f)().join(",")}var eZ=r(45518);let e0=e=>{let t,r,n,a=(0,i.c)(11),{dialogType:s,onDismiss:l,staffDialogRef:c}=e;return a[0]!==s||a[1]!==l||a[2]!==c?(t=s===e$.hs.Experiments&&(0,o.jsx)(eK,{experimentsDialogRef:c,onDismiss:l}),a[0]=s,a[1]=l,a[2]=c,a[3]=t):t=a[3],a[4]!==s||a[5]!==l||a[6]!==c?(r=s===e$.hs.Prompt&&(0,o.jsx)(eZ.X,{promptDialogRef:c,onDismiss:l}),a[4]=s,a[5]=l,a[6]=c,a[7]=r):r=a[7],a[8]!==t||a[9]!==r?(n=(0,o.jsxs)(o.Fragment,{children:[t,r]}),a[8]=t,a[9]=r,a[10]=n):n=a[10],n};try{e0.displayName||(e0.displayName="StaffDialogs")}catch{}let e1=e=>{let t,r,n,a,s,l,h,u,m,p,f,g,x,b,y=(0,i.c)(54),j=(0,c.Pk)(),_=(0,d.b)(),[S,C]=(0,N.useState)(!1);y[0]!==j?(t=(0,eC.W)(j),y[0]=j,y[1]=t):t=y[1];let O=t,{showTopicPicker:I,messages:k,streamingMessage:D}=j,P=O?.name??j.restoredThreadTitle;y[2]!==_||y[3]!==O?(r=async()=>O&&_.deleteThread(O),y[2]=_,y[3]=O,y[4]=r):r=y[4];let R=r;y[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,eb.G7)("lifecycle_label_name_updates"),y[5]=n):n=y[5];let L=n;y[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,eb.G7)("copilot_no_floating_button"),y[6]=a):a=y[6];let A=a,E=(0,N.useRef)(null),T="immersive"===j.mode?1:3,V=I?"none":"1px solid";return y[7]!==T||y[8]!==V?(s={pl:T,borderBottom:V},y[7]=T,y[8]=V,y[9]=s):s=y[9],y[10]!==k||y[11]!==e.isImmersive||y[12]!==e.isResponding||y[13]!==I||y[14]!==j.chatIsOpen||y[15]!==j.currentView||y[16]!==P?(l="thread"===j.currentView?!I&&!e.isImmersive&&0===k.length&&j.chatIsOpen&&(0,o.jsx)(eE.A,{as:"h2",className:eW.HeaderTitle,children:"thread"===j.currentView?(0,o.jsx)(o.Fragment,{children:P?(0,o.jsx)("span",{className:"Truncate",children:(0,o.jsx)("span",{className:"Truncate-text",title:P,children:P})}):e.isResponding&&!j.chatIsOpen?(0,o.jsx)(o.Fragment,{children:"Responding\u2026"}):j.chatIsOpen?!I&&(0,o.jsx)(o.Fragment,{children:"New conversation"}):(0,o.jsx)(o.Fragment,{children:"Ask Copilot"})}):"Copilot"}):(0,o.jsx)(e2,{}),y[10]=k,y[11]=e.isImmersive,y[12]=e.isResponding,y[13]=I,y[14]=j.chatIsOpen,y[15]=j.currentView,y[16]=P,y[17]=l):l=y[17],y[18]!==l?(h=(0,o.jsx)("div",{className:eW.headerTitleContainer,children:l}),y[18]=l,y[19]=h):h=y[19],y[20]!==R||y[21]!==_||y[22]!==k||y[23]!==e.setShowStaffDialog||y[24]!==j.chatIsOpen||y[25]!==j.currentView||y[26]!==j.renderBetaLabel||y[27]!==O?(u=j.chatIsOpen&&(0,o.jsxs)(o.Fragment,{children:[j.renderBetaLabel&&(L?(0,o.jsx)(eL.X,{className:"mr-2"}):(0,o.jsx)(eT.A,{variant:"success",className:eW.betaLabel,children:"Beta"})),"thread"===j.currentView?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eO.v,{hidden:0===k.length,variant:"invisible",icon:w.PlusIcon,label:"New conversation",tooltipDirection:"s",onClick:async()=>{await _.selectThread(null)},className:eW.actionButton}),(0,o.jsx)(e3,{anchorRef:E,handleDelete:R,thread:O,setShowStaffDialog:e.setShowStaffDialog,setShowPersonalInstructionsDialog:C})]}):(0,o.jsx)(eO.v,{variant:"invisible",icon:w.PlusIcon,label:"New conversation",tooltipDirection:"w",onClick:async()=>{await _.selectThread(null)},className:eW.actionButton})]}),y[20]=R,y[21]=_,y[22]=k,y[23]=e.setShowStaffDialog,y[24]=j.chatIsOpen,y[25]=j.currentView,y[26]=j.renderBetaLabel,y[27]=O,y[28]=u):u=y[28],y[29]!==_||y[30]!==e.isImmersive||y[31]!==j.chatIsOpen||y[32]!==j.chatVisibleSettingPath||y[33]!==j.currentView||y[34]!==D||y[35]!==O?(m=!e.isImmersive&&(0,o.jsxs)(o.Fragment,{children:[j.chatIsOpen&&(0,o.jsx)("div",{className:eW.buttonSeparator}),(0,o.jsx)(ew.N5,{commandId:"copilot-chat:continue-in-immersive",variant:"invisible",icon:w.ScreenFullIcon,"aria-label":"Continue in immersive",disabled:!!D,tooltipDirection:"sw",className:eW.actionButton}),A?(0,o.jsx)(ew.N5,{commandId:"copilot-chat:close-assistive",variant:"invisible",icon:w.XIcon,tooltipDirection:"sw",className:eW.actionButton}):(0,o.jsx)(eO.v,{variant:"invisible",icon:j.chatIsOpen?w.ChevronDownIcon:w.ChevronUpIcon,label:j.chatIsOpen?"Collapse":"Expand",tooltipDirection:j.chatIsOpen?"sw":"w",onClick:j.chatIsOpen?()=>_.closeChat():()=>_.openChat(O,j.currentView,"header",j.chatVisibleSettingPath),"data-hotkey":"Shift+Z",className:eW.actionButton})]}),y[29]=_,y[30]=e.isImmersive,y[31]=j.chatIsOpen,y[32]=j.chatVisibleSettingPath,y[33]=j.currentView,y[34]=D,y[35]=O,y[36]=m):m=y[36],y[37]!==m||y[38]!==u?(p=(0,o.jsxs)("div",{className:eW.headerActions,children:[u,m]}),y[37]=m,y[38]=u,y[39]=p):p=y[39],y[40]!==e?(f=()=>e.setShowStaffDialog(e$.hs.None),y[40]=e,y[41]=f):f=y[41],y[42]!==e.showStaffDialog||y[43]!==e.staffDialogRef||y[44]!==f?(g=(0,o.jsx)(e0,{dialogType:e.showStaffDialog,staffDialogRef:e.staffDialogRef,onDismiss:f}),y[42]=e.showStaffDialog,y[43]=e.staffDialogRef,y[44]=f,y[45]=g):g=y[45],y[46]!==S?(x=S&&(0,o.jsx)(ez.Y,{returnFocusRef:E,onDismiss:()=>C(!1)}),y[46]=S,y[47]=x):x=y[47],y[48]!==p||y[49]!==g||y[50]!==x||y[51]!==s||y[52]!==h?(b=(0,o.jsxs)(v.A,{sx:s,className:eW.HeaderContainer,children:[h,p,g,x]}),y[48]=p,y[49]=g,y[50]=x,y[51]=s,y[52]=h,y[53]=b):b=y[53],b},e2=()=>{let e,t,r,n=(0,i.c)(7),{mode:a}=(0,c.Pk)(),s=(0,d.b)();n[0]!==s?(e=()=>s.viewCurrentThread(),n[0]=s,n[1]=e):e=n[1];let l="assistive"===a?"-8px":void 0;return n[2]!==l?(t={marginLeft:l},n[2]=l,n[3]=t):t=n[3],n[4]!==e||n[5]!==t?(r=(0,o.jsx)(em.Q,{leadingVisual:w.ArrowLeftIcon,variant:"invisible",onClick:e,sx:t,className:eW.actionButton,children:"Back"}),n[4]=e,n[5]=t,n[6]=r):r=n[6],r},e3=e=>{let t,r,n,a,s,l,u,m,p,f,g,x,b,y,v,j,_,S,C,O,I,k,D,P,R,L,A=(0,i.c)(56),[E,T]=(0,N.useState)(!1),{chatVisibleSettingPath:V,mode:B,repoCustomInstructionsEnabled:$,currentReferences:F}=(0,c.Pk)(),M=(0,d.b)(),W=(0,N.useRef)(null);A[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,eb.G7)("copilot_no_floating_button"),A[0]=t):t=A[0];let z=t,H=eF.W.staffPromptDialog;A[1]!==F?(r=(0,h.NJ)(F),A[1]=F,A[2]=r):r=A[2];let U=r;A[3]!==M?(n=()=>{M.fetchThreads(),M.viewAllThreads(),(0,el.BI)("copilot.view-conversations-clicked")},A[3]=M,A[4]=n):n=A[4];let G=n;A[5]!==e?(a=()=>{e.handleDelete(),T(!1)},A[5]=e,A[6]=a):a=A[6];let q=a;A[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,eA.X)(),A[7]=l):l=A[7],s=l;let J=!e.thread;A[8]===Symbol.for("react.memo_cache_sentinel")?(u=()=>T(e4),A[8]=u):u=A[8],A[9]!==E?(m=(0,o.jsx)(eV.W.Anchor,{children:(0,o.jsx)(eO.v,{icon:w.KebabHorizontalIcon,variant:"invisible",label:"Conversation options",tooltipDirection:"s",hideTooltip:E,className:eW.actionButton})}),A[9]=E,A[10]=m):m=A[10],A[11]!==U.length||A[12]!==M||A[13]!==$?(p=U.length>0&&(0,o.jsxs)(eB.l.Item,{onSelect:()=>{M.toggleRepoCustomInstructions(!$)},children:[(0,o.jsx)(eB.l.LeadingVisual,{children:(0,o.jsx)(w.NoteIcon,{})}),$?"Disable custom instructions":"Enable custom instructions"]}),A[11]=U.length,A[12]=M,A[13]=$,A[14]=p):p=A[14];let Q=J?"default":"danger";return A[15]===Symbol.for("react.memo_cache_sentinel")?(f=(0,o.jsx)(eB.l.LeadingVisual,{children:(0,o.jsx)(w.TrashIcon,{})}),A[15]=f):f=A[15],A[16]===Symbol.for("react.memo_cache_sentinel")?(g=(0,o.jsx)("p",{id:"delete-conversation-description",className:"sr-only",children:"This is a destructive action that cannot be undone"}),A[16]=g):g=A[16],A[17]!==J||A[18]!==q||A[19]!==Q?(x=(0,o.jsxs)(eB.l.Item,{variant:Q,onSelect:q,disabled:J,"aria-describedby":"delete-conversation-description",children:[f,"Delete conversation",g]}),A[17]=J,A[18]=q,A[19]=Q,A[20]=x):x=A[20],A[21]===Symbol.for("react.memo_cache_sentinel")?(b=(0,o.jsx)(eB.l.Divider,{}),A[21]=b):b=A[21],A[22]!==e?(y=()=>e.setShowPersonalInstructionsDialog(!0),A[22]=e,A[23]=y):y=A[23],A[24]===Symbol.for("react.memo_cache_sentinel")?(v=(0,o.jsx)(eB.l.LeadingVisual,{children:(0,o.jsx)(w.ToolsIcon,{})}),A[24]=v):v=A[24],A[25]!==y?(j=(0,o.jsxs)(eB.l.Item,{onSelect:y,children:[v,"Personal instructions"]}),A[25]=y,A[26]=j):j=A[26],A[27]!==G||A[28]!==B?(_="assistive"===B&&(0,o.jsxs)(eB.l.Item,{onSelect:G,children:[(0,o.jsx)(eB.l.LeadingVisual,{children:(0,o.jsx)(w.HistoryIcon,{})}),"View all conversations"]}),A[27]=G,A[28]=B,A[29]=_):_=A[29],A[30]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{W.current?.openDialog(),(0,el.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_GIVE_FEEDBACK",mode:"assistive"})},A[30]=S):S=A[30],A[31]===Symbol.for("react.memo_cache_sentinel")?(C=(0,o.jsxs)(eB.l.Item,{onSelect:S,children:[(0,o.jsx)(eB.l.LeadingVisual,{children:(0,o.jsx)(w.CommentDiscussionIcon,{})}),"Give feedback"]}),A[31]=C):C=A[31],A[32]!==V||A[33]!==M||A[34]!==B?(O="assistive"===B&&!z&&(0,o.jsxs)(eB.l.Item,{onSelect:()=>{M.hideChat(V)},children:[(0,o.jsx)(eB.l.LeadingVisual,{children:(0,o.jsx)(w.EyeClosedIcon,{})}),"Hide Copilot chat"]}),A[32]=V,A[33]=M,A[34]=B,A[35]=O):O=A[35],A[36]!==e?(I=s&&(0,o.jsxs)(eB.l.Item,{onSelect:()=>e.setShowStaffDialog(e$.hs.Experiments),children:[(0,o.jsx)(eB.l.LeadingVisual,{children:(0,o.jsx)(w.BeakerIcon,{})}),"Configure experiments",(0,o.jsx)(eB.l.TrailingVisual,{children:(0,o.jsx)(eT.A,{variant:"attention",children:"Staff"})})]}),A[36]=e,A[37]=I):I=A[37],A[38]!==e?(k=s&&H&&(0,o.jsxs)(eB.l.Item,{onSelect:()=>e.setShowStaffDialog(e$.hs.Prompt),children:[(0,o.jsx)(eB.l.LeadingVisual,{children:(0,o.jsx)(w.BeakerIcon,{})}),"Adjust prompts",(0,o.jsx)(eB.l.TrailingVisual,{children:(0,o.jsx)(eT.A,{variant:"attention",children:"Staff"})})]}),A[38]=e,A[39]=k):k=A[39],A[40]!==x||A[41]!==j||A[42]!==_||A[43]!==O||A[44]!==I||A[45]!==k||A[46]!==p?(D=(0,o.jsx)(eD.UJ,{children:(0,o.jsxs)(eB.l,{children:[p,x,b,j,_,C,O,I,k]})}),A[40]=x,A[41]=j,A[42]=_,A[43]=O,A[44]=I,A[45]=k,A[46]=p,A[47]=D):D=A[47],A[48]!==E||A[49]!==e.anchorRef||A[50]!==D||A[51]!==m?(P=(0,o.jsxs)(eV.W,{open:E,onOpenChange:u,anchorRef:e.anchorRef,children:[m,D]}),A[48]=E,A[49]=e.anchorRef,A[50]=D,A[51]=m,A[52]=P):P=A[52],A[53]===Symbol.for("react.memo_cache_sentinel")?(R=(0,o.jsx)(eM.l,{ref:W,mode:"assistive"}),A[53]=R):R=A[53],A[54]!==P?(L=(0,o.jsxs)(o.Fragment,{children:[P,R]}),A[54]=P,A[55]=L):L=A[55],L};try{e1.displayName||(e1.displayName="Header")}catch{}try{e2.displayName||(e2.displayName="ReturnToCurrentThreadButton")}catch{}try{e3.displayName||(e3.displayName="ThreadOptionButton")}catch{}function e4(e){return!e}var e5=r(31637),e6=r(50539),e7=r(8579),e8=r(81007),e9=r(96339),te=r(66889),tt=r(99357),tr=r(83880),tn=r(40136),ta=r(78929);let to={dialog:"CommandWindow-module__dialog--nK81t",copilotAvatar:"CommandWindow-module__copilotAvatar--ye1FK",commandListItemSelected:"CommandWindow-module__commandListItemSelected--EuUNl",chatMessageWrapper:"CommandWindow-module__chatMessageWrapper--KDhKM",chatDisplayContainer:"CommandWindow-module__chatDisplayContainer--vrWiT"};function ti(e){let t,r,n,a=(0,i.c)(10),{headingText:s,commands:l,onSelect:c}=e;if(a[0]!==s?(t=(0,o.jsx)(eB.l.GroupHeading,{as:"h4",className:"ml-n2",children:s}),a[0]=s,a[1]=t):t=a[1],a[2]!==l||a[3]!==c){let e;a[5]!==c?(e=e=>{let t=w[e.iconName];return(0,o.jsxs)(eB.l.Item,{className:(0,ef.$)("p-2",e.selected?to.commandListItemSelected:""),onSelect:()=>c(e),children:[(0,o.jsx)(eB.l.LeadingVisual,{children:(0,o.jsx)(t,{})}),e.name,e.selected&&(0,o.jsx)(eB.l.TrailingVisual,{children:"Ask Copilot"})]},e.name)},a[5]=c,a[6]=e):e=a[6],r=l.map(e),a[2]=l,a[3]=c,a[4]=r}else r=a[4];return a[7]!==t||a[8]!==r?(n=(0,o.jsx)(eB.l,{variant:"full",className:"my-2",children:(0,o.jsxs)(eB.l.Group,{children:[t,r]})}),a[7]=t,a[8]=r,a[9]=n):n=a[9],n}try{ti.displayName||(ti.displayName="CommandList")}catch{}function ts(e){let t,r,n,a=(0,i.c)(7),{context:s}=e;if(!s)return;a[0]!==s?(t=function(e){if("pull-request"===e.type)return{name:`${e.number}`,icon:w.GitPullRequestIcon}}(s),a[0]=s,a[1]=t):t=a[1];let l=t;if(!l)return;let{icon:c,name:d}=l;return a[2]!==c?(r=c&&(0,o.jsx)(c,{className:"mr-1 fgColor-open",size:"small"}),a[2]=c,a[3]=r):r=a[3],a[4]!==d||a[5]!==r?(n=(0,o.jsxs)("div",{className:"fgColor-muted bgColor-muted px-2 py-1 rounded-2 f6",children:[r,d]}),a[4]=d,a[5]=r,a[6]=n):n=a[6],n}try{ts.displayName||(ts.displayName="ContextLabel")}catch{}var tl=r(53655);function tc(e){let t,r,n,a,s,l=(0,i.c)(10),{topic:c}=e;if(!c)return;if(l[0]!==c){let e={type:"repository",...c};t=(0,tl.a_)(e,!1),r=(0,h.z$)(e),l[0]=c,l[1]=t,l[2]=r}else t=l[1],r=l[2];let d=r;return l[3]!==t?(n=t&&(0,o.jsx)(t,{className:"mr-1",size:"small"}),l[3]=t,l[4]=n):n=l[4],l[5]!==d?(a=(0,o.jsx)("span",{className:"flex-1",children:d}),l[5]=d,l[6]=a):a=l[6],l[7]!==n||l[8]!==a?(s=(0,o.jsxs)(o.Fragment,{children:[n,a]}),l[7]=n,l[8]=a,l[9]=s):s=l[9],s}try{tc.displayName||(tc.displayName="TopicLabel")}catch{}try{(n=Icon).displayName||(n.displayName="Icon")}catch{}function td(e){return"pull-request"===e.type}var th=r(3032);let tu={Initial:"initial",Complete:"complete"};function tm(){let e,t,r,n,a,s,l,u,m,p,f,g,x,b,y,v,j,_,S=(0,i.c)(73),O=(0,c.Pk)(),{entryPointId:I,chatIsOpen:k,currentRepository:D}=O,P=(0,d.b)();S[0]!==O?(e=(0,eC.W)(O),S[0]=O,S[1]=e):e=S[1];let R=e,{reloadQuota:L}=(0,e5.xR)(),A=(0,ey.Z)(),[E,T]=(0,N.useState)(tu.Initial),V=(0,N.useRef)(null),[B,$]=(0,N.useState)(""),F=function(){let e,t=(0,i.c)(5),{context:r,currentRepository:n}=(0,c.Pk)();e:{let a;if(Array.isArray(r)){let n;t[0]!==r?(n=r.find(td),t[0]=r,t[1]=n):n=t[1];let a=n;if(a){e=a;break e}}if(n){let r;t[2]!==n?(r={type:"repository",...n},t[2]=n,t[3]=r):r=t[3],e=r;break e}t[4]===Symbol.for("react.memo_cache_sentinel")?(a={type:"global"},t[4]=a):a=t[4],e=a}return e}(),M=function(e,t,r){let n=(0,N.useMemo)(()=>void 0===e?[]:(th.L[e]||[]).filter(e=>void 0===t||!("persona"in e)||void 0===e.persona||e.persona===t),[e,t]);return(0,N.useMemo)(()=>{let e=n.filter(e=>void 0===r||e.name.toLowerCase().startsWith(r.toLowerCase()));return 0===e.length&&r&&e.push({type:"custom",context:"global",iconName:"PaperAirplaneIcon",name:r,prompt:r}),e},[n,r])}(F?.type,F&&"persona"in F?F.persona:void 0,B),{selectedIndex:W,selectPrevious:z,selectNext:H}=function(e){let t,r,n,a,o,s=(0,i.c)(11),[l,c]=(0,N.useState)(0);s[0]!==e?(t=()=>{c(t=>Math.min(t,e))},r=[e],s[0]=e,s[1]=t,s[2]=r):(t=s[1],r=s[2]),(0,N.useEffect)(t,r),s[3]!==e?(n=()=>{c(t=>void 0===t?e:t>0?t-1:e)},s[3]=e,s[4]=n):n=s[4];let d=n;s[5]!==e?(a=()=>{c(t=>void 0===t?0:t<e?t+1:0)},s[5]=e,s[6]=a):a=s[6];let h=a;return s[7]!==h||s[8]!==d||s[9]!==l?(o={selectedIndex:l,selectPrevious:d,selectNext:h},s[7]=h,s[8]=d,s[9]=l,s[10]=o):o=s[10],o}(M.length-1);S[2]!==O.messages?(r=O.messages.findLast(tf),S[2]=O.messages,S[3]=r):r=S[3],t=r,S[4]!==I||S[5]!==P?(n=e=>{if(T(tu.Initial),$(""),P.closeChat(),"escape"===e){let e=I??ej.fv,t=document.getElementById(e),r=window.scrollX,n=window.scrollY;setTimeout(()=>{t?.focus(),window.scrollTo(r,n)},0)}},S[4]=I,S[5]=P,S[6]=n):n=S[6];let U=n;S[7]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{$(e.currentTarget.value),T(tu.Initial)},S[7]=a):a=S[7];let G=a;S[8]!==P||S[9]!==L||S[10]!==O.context||S[11]!==O.currentReferences||S[12]!==O.currentRepository||S[13]!==O.customInstructions||S[14]!==R?(s=async e=>{$(e.name);let t=e.prompt;""!==t.trim()&&(L("command_message_send"),R&&await P.clearThread(R),T(tu.Complete),await P.sendChatMessage({content:t,thread:R,references:O.currentReferences,topic:O.currentRepository,context:O.context,customInstructions:O.customInstructions,intent:e.intent||e$.wh.conversation,modeOverride:"custom"===e.type?"assistive":"task-oriented-assistive"}),setTimeout(()=>{V?.current?.select?.(),window.scrollTo(scrollX,scrollY)},0))},S[8]=P,S[9]=L,S[10]=O.context,S[11]=O.currentReferences,S[12]=O.currentRepository,S[13]=O.customInstructions,S[14]=R,S[15]=s):s=S[15];let q=s;S[16]!==M||S[17]!==q||S[18]!==W?(l=async()=>{let e=M[W];e&&await q(e)},S[16]=M,S[17]=q,S[18]=W,S[19]=l):l=S[19];let J=l;S[20]!==P?(u=()=>P.stopStreaming(),S[20]=P,S[21]=u):u=S[21];let Q=u;S[22]!==D||S[23]!==A||S[24]!==R?(m=()=>{R?A(`${h.Jz}/c/${R.id}`):D?A(`${h.Jz}/r/${D.ownerLogin}/${D.name}`):A(h.Jz)},S[22]=D,S[23]=A,S[24]=R,S[25]=m):m=S[25];let X=m;S[26]!==M||S[27]!==F?.type||S[28]!==q||S[29]!==B||S[30]!==W||S[31]!==E?(p=()=>{if(E!==tu.Initial)return;let e=(0,te.Z)(F?.type?.replaceAll("-"," ")??"Select an action");return B&&(e="Results found"),M.every(tp)&&(e="No results found"),(0,o.jsx)(ti,{headingText:e,commands:M.map((e,t)=>({...e,selected:t===W})),onSelect:async e=>await q(e)})},S[26]=M,S[27]=F?.type,S[28]=q,S[29]=B,S[30]=W,S[31]=E,S[32]=p):p=S[32];let K=p;S[33]!==F||S[34]!==Q||S[35]!==J||S[36]!==X||S[37]!==B||S[38]!==H||S[39]!==z||S[40]!==O.isWaitingOnCopilot?(f=()=>{let e=O.isWaitingOnCopilot;return(0,o.jsx)("div",{className:"d-flex flex-column",children:(0,o.jsx)(ew.tL,{commands:{"copilot-chat:task-oriented-select-previous":z,"copilot-chat:task-oriented-select-next":H,"copilot-chat:send-message":()=>void J(),"github:cancel":()=>void Q(),"copilot-chat:continue-in-immersive":X},children:(0,o.jsx)(ew.tL.LimitKeybindingScope,{commandIds:["copilot-chat:send-message","github:cancel"],children:(0,o.jsx)(eG.A,{ref:V,size:"large",leadingVisual:(0,o.jsx)(ts,{context:F}),trailingVisual:(0,o.jsxs)("div",{className:"d-flex flex-row",children:[e&&(0,o.jsx)(ew.N5,{variant:"invisible",icon:w.SquareFillIcon,className:"fgColor-danger",commandId:"github:cancel"}),(0,o.jsx)("div",{className:to.copilotAvatar,children:(0,o.jsx)(e6.N,{animationType:e?e6.L.Thinking:e6.L.Idle,loopAnimation:!0})})]}),value:B,onChange:G,disabled:e,placeholder:"Search for actions"})})})})},S[33]=F,S[34]=Q,S[35]=J,S[36]=X,S[37]=B,S[38]=H,S[39]=z,S[40]=O.isWaitingOnCopilot,S[41]=f):f=S[41];let Y=f;S[42]!==t||S[43]!==O.isWaitingOnCopilot||S[44]!==O.messagesLoading.state||S[45]!==O.streamingMessage?(g=()=>{let e="loading"===O.messagesLoading.state,r="loaded"===O.messagesLoading.state,n="error"===O.messagesLoading.state;return(0,o.jsx)(tn.$,{children:(0,o.jsxs)("div",{className:(0,ef.$)(to.chatMessageWrapper,to.chatDisplayContainer),children:[e&&(0,o.jsx)(o.Fragment,{children:"Loading..."}),n&&(0,o.jsx)(o.Fragment,{children:"Error..."}),O.isWaitingOnCopilot&&(O.streamingMessage?(0,o.jsx)(tt.c,{message:O.streamingMessage,isStreaming:!0,inputRef:V,excludeFeedback:!0},O.streamingMessage.id):(0,o.jsx)(e8.r,{lines:3})),r&&!e&&t&&(0,o.jsx)(tt.c,{message:t,isStreaming:t.id===O.streamingMessage?.id,inputRef:V,excludeFeedback:!0},t.id)]})})},S[42]=t,S[43]=O.isWaitingOnCopilot,S[44]=O.messagesLoading.state,S[45]=O.streamingMessage,S[46]=g):g=S[46];let Z=g;S[47]!==K||S[48]!==Z||S[49]!==E?(x=()=>E===tu.Initial?K():E===tu.Complete?Z():void 0,S[47]=K,S[48]=Z,S[49]=E,S[50]=x):x=S[50];let ee=x;S[51]!==t||S[52]!==U||S[53]!==J||S[54]!==X||S[55]!==E?(b=()=>E===tu.Initial?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:"Select an action"}),(0,o.jsxs)("div",{className:"d-flex flex-row",children:[(0,o.jsx)(em.Q,{className:"fgColor-muted",variant:"invisible",onClick:()=>U("close-button"),trailingVisual:(0,o.jsx)(e9.U,{keys:"Esc"}),children:"Close"}),(0,o.jsx)(em.Q,{className:"fgColor-muted",variant:"invisible",onClick:J,trailingVisual:(0,o.jsx)(ew.hh,{commandId:"copilot-chat:send-message"}),children:"Confirm"})]})]}):E===tu.Complete?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tr.$,{message:t,children:(0,o.jsx)(ta.G,{iconSize:"small"})}),(0,o.jsx)(e7.T,{textToCopy:t.content??"",ariaLabel:"Copy to clipboard"})]})}),(0,o.jsxs)("div",{className:"d-flex flex-row",children:[(0,o.jsx)(em.Q,{className:"fgColor-muted",variant:"invisible",onClick:()=>U("close-button"),trailingVisual:(0,o.jsx)(e9.U,{keys:"Esc"}),children:"Close"}),(0,o.jsx)(em.Q,{className:"fgColor-muted",variant:"invisible",onClick:X,trailingVisual:(0,o.jsx)(ew.hh,{commandId:"copilot-chat:continue-in-immersive"}),children:"Continue in Chat"})]})]}):void 0,S[51]=t,S[52]=U,S[53]=J,S[54]=X,S[55]=E,S[56]=b):b=S[56];let et=b;if(k)return S[57]!==U||S[58]!==X||S[59]!==O.currentRepository||S[60]!==O.isWaitingOnCopilot?(y=()=>(0,o.jsxs)(eJ.l.Header,{className:"d-flex flex-row flex-justify-between flex-items-center px-4 pt-2 mr-n3 box-shadow-none",children:[(0,o.jsx)("div",{className:"fgColor-muted",children:(0,o.jsx)(tc,{topic:O.currentRepository})}),(0,o.jsx)("div",{"data-testid":"copilot-assistive-command-window"}),(0,o.jsxs)("div",{children:[(0,o.jsx)(C.K,{size:"small",variant:"invisible",icon:w.ScreenFullIcon,"aria-label":"Take conversation to immersive",disabled:O.isWaitingOnCopilot,onClick:X}),(0,o.jsx)(eJ.l.CloseButton,{onClose:()=>U("close-button")})]})]}),S[57]=U,S[58]=X,S[59]=O.currentRepository,S[60]=O.isWaitingOnCopilot,S[61]=y):y=S[61],S[62]!==ee||S[63]!==Y?(v=()=>(0,o.jsxs)(eJ.l.Body,{className:"py-1",children:[Y(),ee()]}),S[62]=ee,S[63]=Y,S[64]=v):v=S[64],S[65]!==et||S[66]!==O.isWaitingOnCopilot?(j=()=>{if(!O.isWaitingOnCopilot)return(0,o.jsx)(eJ.l.Footer,{className:"d-flex flex-row flex-justify-between flex-items-center px-3 py-2 fgColor-muted",children:et()})},S[65]=et,S[66]=O.isWaitingOnCopilot,S[67]=j):j=S[67],S[68]!==U||S[69]!==y||S[70]!==v||S[71]!==j?(_=(0,o.jsx)(eJ.l,{className:to.dialog,initialFocusRef:V,onClose:U,renderHeader:y,renderBody:v,renderFooter:j}),S[68]=U,S[69]=y,S[70]=v,S[71]=j,S[72]=_):_=S[72],_}function tp(e){return"custom"===e.type}function tf(e){return"assistant"===e.role}try{tm.displayName||(tm.displayName="CommandWindow")}catch{}var tg=r(63867),tx=r(6869);let tb={loadingStateContainer:"ThreadListView-module__loadingStateContainer--lbhF8",ActionList:"ThreadListView-module__ActionList--Hd3wG",emptyStateContainer:"ThreadListView-module__emptyStateContainer--dmp0k",errorStateContainer:"ThreadListView-module__errorStateContainer--no4e4",deleteAllButton:"ThreadListView-module__deleteAllButton--LVaja"};function tw(){let e,t,r,n=(0,i.c)(9),a=(0,c.Pk)(),s=(0,d.b)();n[0]!==s||n[1]!==a.threads?(t=s.sortAndFilterThreads(a.threads,ty),n[0]=s,n[1]=a.threads,n[2]=t):t=n[2],e=t;let[l,h]=(0,N.useState)(!1),u=(0,N.useRef)(null),m=eF.W.deleteAllConversations;if("loading"===a.threadsLoading.state&&e.length<2){let e;return n[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsxs)("div",{className:tb.loadingStateContainer,children:[(0,o.jsx)(tg.A,{}),"Loading threads\u2026"]}),n[3]=e):e=n[3],e}return n[4]!==s||n[5]!==l||n[6]!==a.threadsLoading||n[7]!==e?(r=(0,o.jsx)(o.Fragment,{children:"error"===a.threadsLoading.state?(0,o.jsx)(tv,{threadsLoading:a.threadsLoading}):(0,o.jsxs)(o.Fragment,{children:[e.length>0&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(eB.l,{className:tb.ActionList,children:(0,o.jsxs)(eB.l.Group,{children:[(0,o.jsx)(eB.l.GroupHeading,{as:"h3",children:"All conversations"}),(0,o.jsx)(tj,{threads:e,manager:s}),e.length>1&&m&&(0,o.jsx)(t_,{threads:e,manager:s,shouldDeleteAllThreads:l,setShouldDeleteAllThreads:h,returnFocusRef:u})]})})}),0===e.length&&(0,o.jsxs)("div",{className:tb.emptyStateContainer,children:[(0,o.jsx)("p",{className:"mb-3",children:"There are no conversations at the moment."}),(0,o.jsx)(em.Q,{onClick:()=>s.selectThread(null),block:!0,children:"Start a new conversation"})]})]})}),n[4]=s,n[5]=l,n[6]=a.threadsLoading,n[7]=e,n[8]=r):r=n[8],r}function ty(e){return void 0===e.customCopilotID}let tv=e=>{let t,r,n=(0,i.c)(3),{threadsLoading:a}=e;n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(V.A,{icon:w.AlertIcon}),n[0]=t):t=n[0];let s="error"===a.state?a.error:"Something went wrong. Please try again later.";return n[1]!==s?(r=(0,o.jsx)("div",{className:tb.errorStateContainer,children:(0,o.jsxs)(tx.A,{variant:"warning",children:[t,s]})}),n[1]=s,n[2]=r):r=n[2],r},tj=e=>{let t,r,n=(0,i.c)(7),{threads:a,manager:s}=e;if(n[0]!==s||n[1]!==a){let e;n[3]!==s?(e=e=>(0,o.jsxs)(eB.l.Item,{onSelect:()=>s.selectThread(e),className:"mr-0 pr-2",children:[(0,o.jsx)(eB.l.LeadingVisual,{children:(0,o.jsx)(w.CommentIcon,{})}),(0,h.CB)(e),(0,o.jsx)(eB.l.Description,{variant:"inline",className:"flex-shrink-0",children:(0,o.jsx)(j.A,{date:new Date(Date.parse(e.updatedAt)),format:"relative"})}),(0,o.jsx)(eB.l.TrailingAction,{icon:w.TrashIcon,label:`Delete conversation: "${(0,h.CB)(e)}"`,onClick:async()=>s.deleteThreadKeepSelection(e)})]},e.id),n[3]=s,n[4]=e):e=n[4],t=a.map(e),n[0]=s,n[1]=a,n[2]=t}else t=n[2];return n[5]!==t?(r=(0,o.jsx)(o.Fragment,{children:t}),n[5]=t,n[6]=r):r=n[6],r},t_=e=>{let t,r,n,a,s=(0,i.c)(14),{threads:l,manager:c,shouldDeleteAllThreads:d,setShouldDeleteAllThreads:h,returnFocusRef:u}=e;return s[0]!==h?(t=()=>h(!0),s[0]=h,s[1]=t):t=s[1],s[2]!==u||s[3]!==t?(r=(0,o.jsx)(em.Q,{"data-testid":"delete-all-threads-button",ref:u,onClick:t,className:tb.deleteAllButton,children:"Delete all conversations"}),s[2]=u,s[3]=t,s[4]=r):r=s[4],s[5]!==c||s[6]!==u||s[7]!==h||s[8]!==d||s[9]!==l?(n=!0===d&&(0,o.jsx)("div",{"data-testid":"delete-all-threads-dialog",children:(0,o.jsxs)(eJ.l,{title:"Delete all conversations",width:"small",onClose:()=>h(!1),returnFocusRef:u,footerButtons:[{buttonType:"default",content:"Cancel",onClick:()=>h(!1)},{buttonType:"danger",content:"Delete",onClick:async()=>{await c.deleteAllThreadKeepSelection(l),h(!1)},autoFocus:!0}],children:["You are trying to delete ",l.length," conversations. Are you sure? This can\u2019t be undone."]})}),s[5]=c,s[6]=u,s[7]=h,s[8]=d,s[9]=l,s[10]=n):n=s[10],s[11]!==r||s[12]!==n?(a=(0,o.jsxs)(o.Fragment,{children:[r,n]}),s[11]=r,s[12]=n,s[13]=a):a=s[13],a};try{tw.displayName||(tw.displayName="ThreadListView")}catch{}try{tv.displayName||(tv.displayName="ErrorView")}catch{}try{tj.displayName||(tj.displayName="ListView")}catch{}try{t_.displayName||(t_.displayName="DeleteAll")}catch{}let tS={CopilotChatContainer:"CopilotChat-module__CopilotChatContainer--CwBNd",IconButton:"CopilotChat-module__IconButton--xC79R",Popover:"CopilotChat-module__Popover--WnmyT",Popover_Content:"CopilotChat-module__Popover_Content--dXDCu",chatContentScrollContainer:"CopilotChat-module__chatContentScrollContainer--_YtWK",chatViewContainer:"CopilotChat-module__chatViewContainer--DmLID"};var tC=r(29943),tN=r(67522);let tO=(0,ed.E7)();function tI(e){let t,r=(0,i.c)(2);return r[0]!==e?(t=(0,o.jsx)(eg.RelayEnvironmentProvider,{environment:tO,children:(0,o.jsx)(tk,{...e})}),r[0]=e,r[1]=t):t=r[1],t}function tk(e){let t,r,n,a,s,d=(0,i.c)(9),h=(0,N.useRef)(null),u=(0,N.useRef)(null),m=eS.Jt.selectedThreadID;d[0]===Symbol.for("react.memo_cache_sentinel")?(t=eS.Jt.getCurrentReferences(m)||[],d[0]=t):t=d[0];let p=t,f=e.renderPopover||!1;return d[1]!==e.reactPartialAnchor||d[2]!==f?(r=(0,o.jsx)(tD,{renderPopover:f,ref:h,reactPartialAnchor:e.reactPartialAnchor,inputRef:u}),d[1]=e.reactPartialAnchor,d[2]=f,d[3]=r):r=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,o.jsx)(eD.cB,{}),a=(0,o.jsx)(tA,{inputRef:u}),d[4]=n,d[5]=a):(n=d[4],a=d[5]),d[6]!==e||d[7]!==r?(s=(0,o.jsx)(l.LB,{children:(0,o.jsxs)(c.Mj,{topic:e.currentTopic,workerPath:e.findFileWorkerPath,threadId:m,refs:p,mode:"assistive",ssoOrganizations:e.ssoOrganizations,chatIsOpen:!1,chatIsVisible:e.chatIsVisible,chatVisibleSettingPath:e.chatVisibleSettingPath,realIp:e.realIp,copilotChatPayload:e,children:[r,n,a]})}),d[6]=e,d[7]=r,d[8]=s):s=d[8],s}let tD=N.forwardRef((e,t)=>{let r,n,a,s,u,m,p,f,g,x,b,y,v,j,_,S,O,I,k=(0,i.c)(62),D=(0,d.b)(),P=(0,c.Pk)();k[0]!==P?(r=(0,eC.W)(P),k[0]=P,k[1]=r):r=k[1];let R=r,{currentTopic:L,currentView:A}=P,{screenSize:E}=(0,l.lm)(),{licenseType:T}=(0,e5.xR)(),V=(0,tN.GF)(P.availableModels),B=(0,N.useRef)(!0);k[2]!==L||k[3]!==V||k[4]!==D||k[5]!==R||k[6]!==P.chatIsOpen?(n=()=>(0,tC.HS)(e=>void D.handleOpenPanelEvent(R,e,P.chatIsOpen,L,V)),a=[L,R,D,P.chatIsOpen,V],k[2]=L,k[3]=V,k[4]=D,k[5]=R,k[6]=P.chatIsOpen,k[7]=n,k[8]=a):(n=k[7],a=k[8]),(0,N.useEffect)(n,a),k[9]!==D?(s=()=>(0,tC.f7)(e=>{D.handleAddReferenceEvent(e)}),k[9]=D,k[10]=s):s=k[10],k[11]!==D||k[12]!==R||k[13]!==P.currentReferences?(u=[R,D,P.currentReferences],k[11]=D,k[12]=R,k[13]=P.currentReferences,k[14]=u):u=k[14],(0,N.useEffect)(s,u),k[15]!==D?(m=()=>(0,tC.Tv)(e=>{D.handleSymbolChangedEvent(e)}),k[15]=D,k[16]=m):m=k[16],(0,N.useEffect)(m),k[17]!==V||k[18]!==D?(p=()=>(0,tC.fD)(e=>{D.handleSearchCopilotEvent(e,V)}),f=[D,V],k[17]=V,k[18]=D,k[19]=p,k[20]=f):(p=k[19],f=k[20]),(0,N.useEffect)(p,f),k[21]!==A||k[22]!==D||k[23]!==P.chatVisibleSettingPath||k[24]!==P.selectedThreadID||k[25]!==P.threads?(g=()=>{let e=new URL(window.location.href,window.location.origin),t=e.searchParams,r=P.selectedThreadID;if("1"===t.get("copilot")&&r){let t=P.threads.get(r)??null;D.openChat(t,A,"immersive",P.chatVisibleSettingPath),e.searchParams.delete("copilot"),(0,es.kd)(e.toString())}},x=[D,P.selectedThreadID,P.threads,A,P.chatVisibleSettingPath],k[21]=A,k[22]=D,k[23]=P.chatVisibleSettingPath,k[24]=P.selectedThreadID,k[25]=P.threads,k[26]=g,k[27]=x):(g=k[26],x=k[27]),(0,N.useEffect)(g,x),k[28]!==D||k[29]!==E||k[30]!==R||k[31]!==P.chatIsVisible||k[32]!==P.chatVisibleSettingPath||k[33]!==P.currentView?(b=()=>{B.current&&(B.current=!1,P.chatIsVisible&&!eS.Jt.getCollapsedState()&&E>l.Gy.large&&D.openChat(R,P.currentView,"page load",P.chatVisibleSettingPath))},y=[D,E,R,P.chatIsVisible,P.chatVisibleSettingPath,P.currentView],k[28]=D,k[29]=E,k[30]=R,k[31]=P.chatIsVisible,k[32]=P.chatVisibleSettingPath,k[33]=P.currentView,k[34]=b,k[35]=y):(b=k[34],y=k[35]),(0,N.useEffect)(b,y),k[36]!==L||k[37]!==A||k[38]!==T||k[39]!==D||k[40]!==e.inputRef||k[41]!==R||k[42]!==P.chatIsOpen||k[43]!==P.chatVisibleSettingPath?(v=async()=>{if(P.chatIsOpen)e.inputRef.current&&e.inputRef.current.focus();else{if(T===e$.mF.Unlicensed){if(P.chatVisibleSettingPath){let e=new FormData;e.set("copilot_chat_visible","true"),await (0,eh.DI)(P.chatVisibleSettingPath,{method:"PUT",body:e}),eS.Jt.setCollapsedState(!1)}window.location.replace(`${window.location.origin}/github-copilot/signup?return_to=${window.location.pathname}`);return}D.openChat(R,A,"header",P.chatVisibleSettingPath,(0,h.Z6)(L)?(0,h.qS)(L):void 0)}},k[36]=L,k[37]=A,k[38]=T,k[39]=D,k[40]=e.inputRef,k[41]=R,k[42]=P.chatIsOpen,k[43]=P.chatVisibleSettingPath,k[44]=v):v=k[44];let $=v;if(e.reactPartialAnchor){let t,r,n;return k[45]!==e.reactPartialAnchor?(t=(0,o.jsx)(tP,{reactPartialAnchor:e.reactPartialAnchor}),k[45]=e.reactPartialAnchor,k[46]=t):t=k[46],k[47]!==e.renderPopover?(r=e.renderPopover?(0,o.jsx)(tL,{renderPopover:!0}):(0,o.jsx)(o.Fragment,{}),k[47]=e.renderPopover,k[48]=r):r=k[48],k[49]!==t||k[50]!==r?(n=(0,o.jsxs)("div",{className:tS.CopilotChatContainer,children:[t,r]}),k[49]=t,k[50]=r,k[51]=n):n=k[51],n}return k[52]===Symbol.for("react.memo_cache_sentinel")?(j=(0,ef.$)("AppHeader-CopilotChatButton",tS.CopilotChatContainer),k[52]=j):j=k[52],k[53]===Symbol.for("react.memo_cache_sentinel")?(_=(0,ef.$)("AppHeader-button",tS.IconButton),k[53]=_):_=k[53],k[54]!==$||k[55]!==t?(S=(0,o.jsx)(ep.A,{"aria-label":"Chat with Copilot",direction:"s",children:(0,o.jsx)("div",{children:(0,o.jsx)(C.K,{unsafeDisableTooltip:!0,ref:t,id:ej.fv,icon:w.CopilotIcon,"aria-label":"Chat with Copilot","aria-controls":ej.wJ,onClick:$,className:_,"data-testid":"copilot-chat-button","data-hotkey":"Shift+C","aria-expanded":!1})})}),k[54]=$,k[55]=t,k[56]=S):S=k[56],k[57]!==e.renderPopover?(O=(0,o.jsx)(tL,{renderPopover:e.renderPopover}),k[57]=e.renderPopover,k[58]=O):O=k[58],k[59]!==S||k[60]!==O?(I=(0,o.jsxs)("div",{className:j,children:[S,O]}),k[59]=S,k[60]=O,k[61]=I):I=k[61],I});function tP(e){let t,r=(0,i.c)(1),{reactPartialAnchor:n}=e;return(0,ec.QJ)(n,tR),r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,o.jsx)(o.Fragment,{}),r[0]=t):t=r[0],t}function tR(){(0,el.BI)("dotcom_chat.activate",{target:"GLOBAL_COPILOT_MENU_HEADER_TO_IMMERSIVE",mode:"global_nav"})}function tL(e){let t,r,n,a=(0,i.c)(4),{renderPopover:s}=e,[l,c]=(0,N.useState)(s);a[0]===Symbol.for("react.memo_cache_sentinel")?(t=async()=>{c(!1),await (0,eh.DI)((({notice:e})=>`/settings/dismiss-notice/${e}`)({notice:"copilot_chat_new_user_popover"}),{method:"POST"})},a[0]=t):t=a[0];let d=t;return a[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,o.jsxs)(eu.A.Content,{"data-testid":"copilot-chat-cta-popover",className:tS.Popover_Content,children:[(0,o.jsxs)("p",{children:["You now have access to"," ",(0,o.jsx)("a",{href:"https://docs.github.com/enterprise-cloud@latest/copilot/github-copilot-enterprise/overview/about-github-copilot-enterprise",target:"_blank",rel:"noopener noreferrer",children:"Copilot Enterprise"}),". ","Use the Copilot icon to get started."]}),(0,o.jsx)(em.Q,{"data-testid":"dismiss-copilot-chat-cta-popover",onClick:d,children:"Got it!"})]}),a[1]=r):r=a[1],a[2]!==l?(n=(0,o.jsx)(eu.A,{open:l,caret:"top-right",className:tS.Popover,children:r}),a[2]=l,a[3]=n):n=a[3],n}function tA(e){let t,r,n,a,s,l,h,u,m=(0,i.c)(30),{inputRef:p}=e,f=(0,c.Pk)(),g=(0,d.b)(),x=(0,N.useRef)(null),[b,w]=(0,N.useState)(e$.hs.None),[y,v]=(0,N.useState)(!1),j=(0,N.useRef)(f.messages.length),_=(0,N.useRef)(f.messagesLoading.state),{panelWidth:S,panelHeight:C,startResize:O,onResizerKeyDown:I}=(0,e_.Tz)();if(m[0]!==f.chatIsOpen||m[1]!==f.messages.length||m[2]!==f.messagesLoading.state?(t=()=>{f.messages.length>j.current&&!f.chatIsOpen&&"loaded"===_.current&&v(!0),j.current=f.messages.length,_.current=f.messagesLoading.state},r=[f.chatIsOpen,f.messages.length,f.messagesLoading.state],m[0]=f.chatIsOpen,m[1]=f.messages.length,m[2]=f.messagesLoading.state,m[3]=t,m[4]=r):(t=m[3],r=m[4]),(0,N.useEffect)(t,r),m[5]!==y||m[6]!==f.chatIsOpen?(n=()=>{f.chatIsOpen&&y&&v(!1)},a=[y,f.chatIsOpen],m[5]=y,m[6]=f.chatIsOpen,m[7]=n,m[8]=a):(n=m[7],a=m[8]),(0,N.useEffect)(n,a),"copilot-task-oriented-assistive"===f.entryPointId&&eF.W.taskOrientedAssistive){let e;return m[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,o.jsx)(tm,{}),m[9]=e):e=m[9],e}m[10]!==g||m[11]!==f.entryPointId?(s=e=>{w(e$.hs.None),g.closeChat();let t=f.entryPointId??ej.fv;if(e&&t){let e=document.getElementById(t),r=window.scrollX,n=window.scrollY;setTimeout(()=>{e?.focus(),window.scrollTo(r,n)},0)}},m[10]=g,m[11]=f.entryPointId,m[12]=s):s=m[12];let k=f.messages.length<=1&&(!!f.streamingMessage||f.isWaitingOnCopilot);return m[13]!==b||m[14]!==k?(l=(0,o.jsx)(e1,{staffDialogRef:x,showStaffDialog:b,setShowStaffDialog:w,isResponding:k}),m[13]=b,m[14]=k,m[15]=l):l=m[15],m[16]!==p||m[17]!==f.chatIsOpen||m[18]!==f.currentView||m[19]!==f.selectedThreadID?(h=f.chatIsOpen&&(0,o.jsx)("div",{className:tS.chatContentScrollContainer,children:(0,o.jsx)("div",{className:tS.chatViewContainer,children:"thread"===f.currentView?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ex.r,{inputRef:p},f.selectedThreadID),(0,o.jsx)(ei,{})]}):(0,o.jsx)(tw,{})})}),m[16]=p,m[17]=f.chatIsOpen,m[18]=f.currentView,m[19]=f.selectedThreadID,m[20]=h):h=m[20],m[21]!==p||m[22]!==I||m[23]!==C||m[24]!==S||m[25]!==O||m[26]!==s||m[27]!==l||m[28]!==h?(u=(0,o.jsxs)(eP,{staffDialogRef:x,handleClose:s,panelWidth:S,panelHeight:C,startResize:O,onResizerKeyDown:I,initialFocusRef:p,children:[l,h]}),m[21]=p,m[22]=I,m[23]=C,m[24]=S,m[25]=O,m[26]=s,m[27]=l,m[28]=h,m[29]=u):u=m[29],u}tD.displayName="CopilotHeaderButton",tA.displayName="ChatPanelWithHeader";try{tI.displayName||(tI.displayName="CopilotChat")}catch{}try{tk.displayName||(tk.displayName="CopilotChatNoRelay")}catch{}try{tP.displayName||(tP.displayName="ExternalAnchorListener")}catch{}try{tL.displayName||(tL.displayName="WelcomePopover")}catch{}(0,a.k)("copilot-chat",{Component:tI})},29943:(e,t,r)=>{r.d(t,{HS:()=>i,Oc:()=>o,Tv:()=>c,Xr:()=>SymbolChangedEvent,f7:()=>s,fD:()=>l,qR:()=>a});var n=r(50467);let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),(0,n._)(this,"payload",void 0),this.payload=e}};Event;let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,r){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),(0,n._)(this,"reference",void 0),(0,n._)(this,"openPanel",void 0),(0,n._)(this,"id",void 0),this.reference=e,this.openPanel=t,this.id=r}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),(0,n._)(this,"context",void 0),this.context=e}};function a(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function o(e,t=!1,r){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,r))}function i(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function s(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function l(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function c(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},76899:(e,t,r)=>{function n(){return Promise.resolve()}function a(){return new Promise(window.requestAnimationFrame)}async function o(e,t){let r,n=new Promise(t=>{r=self.setTimeout(t,e)});if(!t)return n;try{var a;await Promise.race([n,(a=t,new Promise((e,t)=>{let r=Error("aborted");r.name="AbortError",a.aborted?t(r):a.addEventListener("abort",()=>t(r))}))])}catch(e){throw self.clearTimeout(r),e}}function i(e){let t=[];return function(r){t.push(r),1===t.length&&queueMicrotask(()=>{let r=t.slice(0);t.length=0,e(r)})}}r.d(t,{G$:()=>a,k2:()=>n,rK:()=>i,uk:()=>o})},38007:(e,t,r)=>{let n;r.d(t,{BI:()=>p,Ti:()=>f,lA:()=>u,sX:()=>m});var a=r(70837),o=r(18679),i=r(85351),s=r(7479);let{getItem:l}=(0,i.A)("localStorage"),c="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,a.O)("octolytics");delete e.baseContext,n=new o.s(e)}catch{}function h(e){let t=(0,a.O)("octolytics").baseContext||{};if(t)for(let[e,r]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=r,delete t[e]);let r=document.querySelector("meta[name=visitor-payload]");for(let[e,n]of(r&&Object.assign(t,JSON.parse(atob(r.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=n);return t.staff=(0,s.X)().toString(),Object.assign(t,e)}function u(e){n?.sendPageView(h(e))}function m(){return document.head?.querySelector('meta[name="current-catalog-service"]')?.content}function p(e,t={}){let r=m(),a=r?{service:r}:{};for(let[e,r]of Object.entries(t))null!=r&&(a[e]=`${r}`);n&&(h(a),n.sendEvent(e||"unknown",h(a)))}function f(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},3785:(e,t,r)=>{r.d(t,{Av:()=>s,BM:()=>a,Gr:()=>l,HX:()=>h,M_:()=>u,RD:()=>d,rb:()=>o});var n=r(96679);let a="GraphQLTraces",o="GraphQLTracingRefresh",i=decodeURIComponent(new URLSearchParams(n.fV.search).get("disable_clusters")||"").split(",").filter(e=>""!==e);function s(e){if(!n.cg||!l()||!e)return;let t=n.cg;t&&!t[a]&&(t[a]=[]),t&&e.__trace&&(t[a].push(e.__trace),"function"==typeof t[o]&&t[o]())}function l(){let e=n.cg;return"true"===new URLSearchParams(n.fV.search).get("_tracing")||e&&void 0!==e[a]}function c(){return i.length>0}function d(e){if(!l()&&!c())return e;let t=new URL(e,n.fV.origin);return l()&&t.searchParams.set("_tracing","true"),c()&&t.searchParams.set("disable_clusters",i.join(",")),t.pathname+t.search}function h(e){return i.indexOf(e)>-1}function u(e){let t=i.indexOf(e);t>-1?i.splice(t,1):i.push(e);let r=new URLSearchParams(n.fV.search);r.set("disable_clusters",i.join(",")),n.fV.search=r.toString()}},72841:(e,t,r)=>{r.d(t,{A:()=>n});let n=(e,t)=>{let r=new URL(e,window.location.origin),n=new URL(t,window.location.origin);return n.href.includes("#")&&r.host===n.host&&r.pathname===n.pathname&&r.search===n.search}},98075:(e,t,r)=>{r.d(t,{D7:()=>a,MQ:()=>n,gE:()=>o});let n=e=>{if(e){if(e.startsWith("refs/tags/"))return"tag";if(e.startsWith("refs/heads/"))return"branch"}},a=(e,t)=>"branch"===t?`refs/heads/${e}`:"tag"===t?`refs/tags/${e}`:e,o=e=>{if(!e)return;if(!n(e))return e;let[,,...t]=e.split("/");return t.join("/")}},96615:(e,t,r)=>{r.d(t,{VB:()=>SSRNetwork,SD:()=>I,E7:()=>O});var n=r(50467),a=r(40961),o=r(69487),i=r(3785),s=r(60039),l=r(96679),c=r(22353);let d=["SAML","SERVICE_UNAVAILABLE"],h={FORBIDDEN:["SAML error"],AUTHENTICATION:["Couldn\u2019t authenticate you"]},u={NOT_FOUND:[["repository","issue"]]};var m=r(26559);function p(e,t){let r=u[e];if(!r)return!1;for(let e of r){if(t.length!==e.length)continue;let r=!0;for(let n=0;n<t.length;n++)if(t[n]!==e[n]&&"*"!==e[n]){r=!1;break}if(r)return!1}return!0}let f=class ValidationError extends Error{constructor(e,t,r){super(e,t),(0,n._)(this,"catalogService",void 0),this.catalogService=r,this.name="ValidationError"}};async function g(e,t,r){if(e.status>401&&404!==e.status){let n=await e.text(),a={url:e.url,timestamp:new Date().toISOString(),persistedQueryId:t,persistedQueryName:r,failureRequestId:e.headers.get("X-Github-Request-Id")},o=`HTTP error (${e.status}): ${n||"No additional text"}.
    Error Info: ${JSON.stringify(a)}`;if(429===e.status)throw{message:o,cause:e.status};throw Error(o,{cause:e.status})}}async function x(e,t,r,n="GET",a,o,i,s){return(await b(e,t,r,n,{isSubscription:!1,scope:void 0},a,o,i,s)).response}async function b(e,t,r,n="POST",a={},s,u,m,g){let x=JSON.stringify((0,o.stableCopy)({query:e,variables:r,...a.scopeObject?{scopeObject:a.scopeObject}:{}})),{isSubscription:y,scope:v,subscriptionTopic:j,dispatchTime:_}=a,S=function(e,t,r,n,a,o,i="/_graphql"){let s=[];if("GET"===e&&s.push(`body=${t}`),r&&s.push("subscription=1"),a&&s.push(`scope=${encodeURIComponent(a)}`),n&&s.push(`subscriptionTopic=${encodeURIComponent(n)}`),o&&s.push(`dispatchTime=${encodeURIComponent(o)}`),l.cg){let e=new URL(l.cg.location.href,l.cg.location.origin).searchParams.get("_features");e&&s.push(`_features=${e}`)}return s.length>0?`${i}?${s.join("&")}`:i}(n,encodeURIComponent(x),y,j,v,_,s),C=null;try{let{subscriptionId:r,requestId:a,json:o,status:s}=await w(S,n,e,t,x,u);if(C=r,m&&o.errors){let e=m[s];if(e)for(let r of o.errors){let n=e[r.type];n?.({persistedQueryName:t,errorMessage:r.message})}}let l=function(e,t,r,n){var a,o;if(a=t,o=e,"errors"in o&&(o.errors.filter(e=>{let t=d.includes(e.type)||!!h[e.type]?.includes(e.message),r=p(e.type,e.path);return t||r}).map(e=>{console.error(`Failed to fetch data. Please use this request ID when contacting support: ${a} Error: ${e.type}: ${e.message} (path: ${e.path})`)}),o.errors=o.errors.filter(e=>{let t=d.includes(e.type)||!!h[e.type]?.includes(e.message),r=p(e.type,e.path);return!t&&!r})),"errors"in e&&e.errors.length){let t=e.errors.map(e=>`GraphQL error: ${e.type}: ${e.message} (path: ${e.path})`).join(", "),a=new f(`${t} (Persisted query id: ${r})`,{cause:e.errors},e.extensions?.query_owning_catalog_service);if(n)(0,c.N7)(a),n.error(a);else throw a}if(!("data"in e)){let a=Error(`Expected data property in response: ${JSON.stringify(e)}. persistedQueryId: ${r}, requestId: ${t}`);if(n)(0,c.N7)(a),n.error(a);else throw a}return e}(o,a,e,g);return l&&(0,i.Av)(l),{subscriptionId:C,response:l}}catch(e){if(g)return"object"==typeof e&&null!==e&&"cause"in e&&429===e.cause||(0,c.N7)(e),g.error(e),{subscriptionId:C,response:{errors:[{message:"An error occurred while fetching data. Please try again later."}],extensions:{}}};throw e}}async function w(e,t,r,n,a,o){return y((0,i.RD)(e),t,r,n,a,o)}async function y(e,t,r,n,a,o){let i,l,d={...(0,m.kt)()};o?.issues_react_perf_test&&(d["X-LUC-Environment"]="issues");let h=(i="GET"===t?await fetch(e,{method:t,cache:"no-cache",credentials:"include",headers:{Accept:"application/json",...d}}):await (0,s.DI)(e,{method:t,headers:{Accept:"application/json",...d},...a?{body:a}:void 0})).headers.get("X-Subscription-ID"),u=i.headers.get("X-Github-Request-Id")||"",p=i.status;await g(i,r,n);try{l=await i.json()}catch(r){let t={error:r,status:p,url:e,requestId:u};throw(0,c.N7)(Error(`Failed to parse server JSON response ${JSON.stringify(t)}`)),Error(`Failed to parse server response. Please try again later. ${JSON.stringify(t)}`)}return{subscriptionId:h,requestId:u,json:l,status:p}}let v=[{kind:"linked",handle(e,t,r){if(null!=t&&t.getType()===o.ROOT_TYPE&&"node"===e.name&&r.hasOwnProperty("id"))return r.id}},{kind:"pluralLinked",handle(e,t,r){if(null!=t&&t.getType()===o.ROOT_TYPE&&"nodes"===e.name&&r.hasOwnProperty("ids"))return r.ids}}];var j=r(69719),_=r(35932),S=r(69982);function C(e){return(0,S.unstable_scheduleCallback)(S.unstable_LowPriority,e)}let N={cancel:()=>!1,schedule:e=>((0,a.unstable_batchedUpdates)(e),"")};let SSRNetwork=class SSRNetwork{execute(e,t,r){return this.relayNetwork.execute(e,t,r)}getPreloadedSubscriptions(){return this.preloadedSubscriptions}constructor(e,t={},r,a,i,s){(0,n._)(this,"relayNetwork",void 0),(0,n._)(this,"ssrPreloadedData",void 0),(0,n._)(this,"preloadedSubscriptions",void 0),(0,n._)(this,"warningsShown",void 0),(0,n._)(this,"enabled_features",void 0),(0,n._)(this,"maxAge",void 0),(0,n._)(this,"errorCallbacks",void 0),this.ssrPreloadedData=e,this.enabled_features=t,this.preloadedSubscriptions=r,this.warningsShown=new Set,this.maxAge=i,this.errorCallbacks=s,this.relayNetwork=o.Network.create((e,t)=>o.Observable.create(r=>{let n=function({params:e,variables:t,ssrPreloadedQueries:r,baseUrl:n,emitWarning:a,enabledFeatures:o,maxAge:i,errorCallbacks:s,observer:c}){if(!e.id)throw Error("params has no id property!");if(e.id&&r){let n=JSON.stringify(t),a=r.get(e.id)?.get(n),o=Math.floor(Date.now()/1e3),s=a?.timestamp;if(a&&(c.next(a),!(i&&s&&o>s+i)))return void c.complete();e.metadata?.isRelayRouteRequest&&(0,l.g5)()}let d="mutation"===e.operationKind?"POST":"GET";if(l.KJ)return x(e.id,e.name,t,d,n,o,s,c)}({params:e,variables:t,ssrPreloadedQueries:this.ssrPreloadedData,baseUrl:a,emitWarning:e=>{this.warningsShown.has(e)||(this.warningsShown.add(e),console.warn(e))},enabledFeatures:this.enabled_features,maxAge:i,errorCallbacks:this.errorCallbacks,observer:r});n instanceof Promise&&n.then(e=>{if(!Array.isArray(e)&&"extensions"in e&&e.extensions&&e.extensions.subscriptions){let t=e.extensions.subscriptions;for(let e in t)for(let r in this.preloadedSubscriptions.has(e)||this.preloadedSubscriptions.set(e,new Map),t[e])this.preloadedSubscriptions.get(e)?.set(r,t[e][r])}r.next(e),r.complete()})}),(e,t)=>(function(e,t,r=new Map){let n=e.id,a=e.name;return o.Observable.create(o=>{let i=()=>{},s=!1;return async function(){if(!n)throw Error("unexpected operation with no id!");let l=e.metadata?.scope,d=function(e,t,r,n){let a=n.get(e);if(a)t:for(let[e,n]of a){for(let[n,a]of Object.entries(JSON.parse(e)))if("$scope"===n&&r!==a||t[n]!==a)continue t;return n}}(n,t,l,r),h=null;if(d)h=d.subscriptionId,d.response&&o.next(d.response);else try{let e=await b(n,a,t,"GET",{isSubscription:!0,scope:l});h=e.subscriptionId,e.response&&o.next(e.response)}catch(e){if(e instanceof Error&&e.message.includes("Subscription halted"))return;throw e}try{let e=await (0,j.H)();if(s)return;let r=(0,_.$)(e,h,async({scope_object:e,subscription_topic:r,dispatch_time:i})=>{try{let{response:s}=await b(n,a,{...t},"GET",{isSubscription:!0,scopeObject:e,subscriptionTopic:r,dispatchTime:i,scope:l});s&&o.next(s)}catch(e){(0,c.N7)(e,{message:`Error in fetching update for ${n} with variables ${JSON.stringify(t)}`})}});r?.unsubscribe&&(i=r.unsubscribe)}catch(e){o.error(e)}}(),{get closed(){return s},unsubscribe(){s=!0,i()}}})})(e,t,this.preloadedSubscriptions))}};let O=(e,t)=>{let r=new SSRNetwork(new Map,{},new Map,e,void 0,t),n=new o.Environment({scheduler:N,store:new o.Store(new o.RecordSource,{gcReleaseBufferSize:50,queryCacheExpirationTime:3e5,gcScheduler:C}),getDataID:(e,t)=>{if("Viewer"===t)return null==e.id?(0,o.generateClientID)("client:root","viewer"):e.id;if("ProjectV2SingleSelectFieldOption"===t){let t=[];return e.id&&t.push(e.id),e.name&&t.push(e.name),e.color&&t.push(e.color),e.description&&t.push(function(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return t}(e.description)),t.join("_")}return e.id},network:r,missingFieldHandlers:v});return n.options={baseUrl:e,getPreloadedSubscriptions:()=>r.getPreloadedSubscriptions()},n};function I({environment:e,query:t,variables:r={}}){let n=(0,o.getRequest)(t),a=(0,o.createOperationDescriptor)(n,r);return e.retain(a),(0,o.fetchQuery)(e,t,r,{fetchPolicy:"store-or-network"})}},98386:(e,t,r)=>{r.d(t,{G:()=>n});let n=e=>({})},80663:(e,t,r)=>{r.d(t,{I:()=>i});var n=r(96540),a=r(17515),o=r(60674);function i(e,t,r=[]){let s=(0,n.useCallback)(e,r),l=(0,o.BP)(),c=(0,n.useRef)(l===o.O8.ClientRender),[d,h]=(0,n.useState)(()=>l===o.O8.ClientRender?s():t),u=(0,n.useCallback)(()=>{h(s)},[s]);return(0,a.N)(()=>{c.current||h(s),c.current=!1},[s,...r]),[d,u]}},62626:(e,t,r)=>{r.d(t,{u:()=>i});var n=r(96235),a=r(60039),o=r(96540);function i(e,t,r,i){let[s,l]=(0,o.useState)({loading:!0}),c=t&&e&&r&&i?(0,n.IO9)({repo:{name:t,ownerLogin:e},commitish:r,action:"file-contributors",path:i}):null;return(0,o.useEffect)(()=>{if(!c)return;let e=!1;return(async()=>{l({loading:!0});let t=await (0,a.lS)(c);if(!e)try{t.ok?l({contributors:await t.json()}):l({error:!0})}catch{l({error:!0})}})(),function(){e=!0}},[c]),s}},44263:(e,t,r)=>{r.d(t,{d:()=>i});var n=r(90851),a=r(23125),o=r(96540);let i=(e,t,{leading:r=!1,maxWait:i,trailing:s=!0,onChangeBehavior:l="flush"}={})=>{let c=(0,n.M)(e),d=(0,o.useMemo)(()=>{let e=void 0===i?{leading:r,trailing:s}:{leading:r,trailing:s,maxWait:i};return(0,a.A)((...e)=>c.current(...e),t,e)},[c,t,r,i,s]);return(0,o.useEffect)(()=>()=>{d?.[l]()},[d,l]),d}},22279:(e,t,r)=>{r.d(t,{E:()=>u,q:()=>h});var n=r(5225),a=r(96235),o=r(21715),i=r(60039),s=r(96540);async function l(e){let t=await (0,i.lS)(e);return t.ok?await t.json():void 0}let c=new Map,d=(0,n.A)(l,{cache:c});function h(){c.clear()}function u(e,t,r,n){let[i,l]=(0,s.useState)(),[c,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!0),f=t&&e&&r&&n?(0,a.IO9)({repo:{name:t,ownerLogin:e},commitish:r,action:"latest-commit",path:n}):null;return(0,s.useEffect)(()=>{let e=new AbortController;return document.addEventListener(o.z.START,h,{signal:e.signal}),()=>{e.abort()}},[]),(0,s.useEffect)(()=>{let e=!1;return(async()=>{if(!f)return;u(!1),p(!0),l(void 0);let t=await d(f);if(!e){try{t?l(t):u(!0)}catch{u(!0)}p(!1)}})(),function(){e=!0}},[f,r]),[i,m,c]}},26807:(e,t,r)=>{r.d(t,{Z:()=>c,o:()=>d});var n=r(96540),a=r(85788),o=r(72841),i=r(97396),s=r(32494),l=r(23818);let c=()=>{let{routes:e}=n.useContext(l.k),t=(0,a.Zp)();return n.useCallback((l,c={})=>{let d=(0,a.o1)(l).pathname;if(!(0,a.ue)(e,d)||c.reloadDocument){let e="string"==typeof l?l:(0,a.AO)(l);(async()=>{let{softNavigate:t}=await Promise.all([r.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js"),r.e("ui_packages_soft-navigate_soft-navigate_ts")]).then(r.bind(r,59519));t(e)})()}else{(0,o.A)(location.href,l.toString())||(0,i.SC)("react");let{preventAutofocus:e,...r}=c;(0,n.startTransition)(()=>{t(l,e?{...r,state:{[s.V]:!0,...r.state}}:r)})}},[t,e])},d=()=>{let[e]=(0,a.ok)(),t=c(),{pathname:r}=(0,a.zy)(),o=n.useCallback((n,o={})=>{t({pathname:r,search:(0,a.PI)("function"==typeof n?n(e):n).toString()},o)},[e,t,r]);return[e,o]}},60039:(e,t,r)=>{r.d(t,{DI:()=>o,QJ:()=>s,Sr:()=>l,lS:()=>i});var n=r(26559),a=r(62053);async function o(e,t={}){var r=e;if(new URL(r,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch");let i=function(e){let t=new URL(e,window.location.href),r=new URL(window.location.href,window.location.origin),n=r.searchParams.get("_features");n&&!t.searchParams.has("_features")&&t.searchParams.set("_features",n);let a=r.searchParams.get("_tracing");return a&&!t.searchParams.has("_tracing")&&t.searchParams.set("_tracing",a),e.startsWith(window.location.origin)?t.href:`${t.pathname}${t.search}`}(e),s={...t.headers,"GitHub-Verified-Fetch":"true",...(0,n.kt)()},l=await fetch(i,{...t,headers:s}),c=l?.headers?.get("X-Github-Request-Id");return c&&(0,a.Ex)(c),l}function i(e,t){let r={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},n=t?.body?JSON.stringify(t.body):void 0;return o(e,{...t,body:n,headers:r})}function s(e,t={}){let r={...t.headers,"GitHub-Is-React":"true"};return o(e,{...t,headers:r})}function l(e,t){let r={...t?.headers??{},"GitHub-Is-React":"true"};return i(e,{...t,headers:r})}},33484:(e,t,r)=>{r.d(t,{l:()=>h});var n=r(74848),a=r(21728),o=r(13455),i=r(60039),s=r(96540),l=r(31971),c=r(69458);let d=[{name:"Hate it",value:1,icon:o.YS,color:"veryDissatisfied"},{name:"Not great",value:2,icon:o.Mm,color:"dissatisfied"},{name:"It\u2019s ok",value:3,icon:o.Cf,color:"satisfied"},{name:"Love it",value:4,icon:o.mN,color:"verySatisfied"}],h=(0,s.forwardRef)(function(e,t){let r,h,u,m,p=(0,a.c)(7),{mode:f,returnFocusRef:g}=e,x=(0,s.useRef)(null),b=(0,s.useRef)(null),w=(0,s.useRef)(void 0);p[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>({openDialog:e=>{w.current=e,l.W.copilotChatInterviewSurvey?x.current?.openDialog():b.current?.openDialog(e)}}),p[0]=r):r=p[0],(0,s.useImperativeHandle)(t,r),p[1]!==f?(h=async(e,t)=>{let r=[];if(null==e&&r.push("Please select a rating."),t.length>2e3&&r.push("Please keep your feedback within 2000 characters or less."),r.length>0)return r;let n={rating:e,content:t,hostname:window.location.hostname,path:window.location.pathname,mode:f};try{(await (0,i.lS)("/github-copilot/feedback",{method:"POST",body:n})).ok||r.push("An error occurred while submitting your feedback.")}catch{r.push("An error occurred while submitting your feedback.")}return r},p[1]=f,p[2]=h):h=p[2];let y=h;return p[3]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(c.E,{ref:x,onClose:e=>{"no-thanks"===e&&b.current?.openDialog(w.current)}}),p[3]=u):u=p[3],p[4]!==y||p[5]!==g?(m=(0,n.jsxs)(n.Fragment,{children:[u,(0,n.jsx)(o.NE,{ref:b,options:d,onSubmit:y,returnFocusRef:g})]}),p[4]=y,p[5]=g,p[6]=m):m=p[6],m});h.displayName="ConversationFeedbackDialog"},75320:(e,t,r)=>{r.d(t,{Y:()=>N});var n,a=r(74848),o=r(21728),i=r(70170),s=r(38007),l=r(98386),c=r(42080),d=r(17515),h=r(60039),u=r(16255),m=r(73451),p=r(19647),f=r(55847),g=r(9852),x=r(96540),b=r(40961),w=r(34901),y=r(47397);let v={footerContainer:"PersonalInstructionsDialog-module__footerContainer--YsPvr"};var j=r(38621),_=r(15385);let S={Role:{tooltip:"Role, domain, style, and focus areas",body:`Your role:
- {role_type} expert in {domain}
- Focus on {key_skill_area}
`},Communication:{tooltip:"Language, tone and format",body:`Communication:
- Write in {tone/language}
- Reference {source_type} documentation
- Structure responses as {format}
`},"Code preferences":{tooltip:"Code style, patterns, and conventions",body:`Code guidelines:
- Use {language} conventions
- Follow {pattern/code_guidelines}
- Optimize for {goal}
`}},C=(0,x.forwardRef)(function(e,t){let r,n,i,s,l,c,d,h,u=(0,o.c)(19),{onSelect:m}=e,[p,f]=(0,x.useState)(!1);u[0]!==p?(r=()=>f(!p),u[0]=p,u[1]=r):r=u[1];let g=r;u[2]===Symbol.for("react.memo_cache_sentinel")?(n={marginBottom:"1px"},u[2]=n):n=u[2],u[3]!==m||u[4]!==p?(i=p&&Object.entries(S)?.map(e=>{let[t,r]=e;return(0,a.jsxs)(_.l.Item,{"aria-label":`${r.tooltip}`,className:"mx-0 border fgColor-muted d-inline-block width-auto",onSelect:()=>m(t,r.body),children:[(0,a.jsx)(j.PlusIcon,{}),t]},t)}),u[3]=m,u[4]=p,u[5]=i):i=u[5],u[6]!==i?(s=(0,a.jsx)(_.l,{className:"d-inline-flex flex-wrap gap-2 rounded-2",children:i}),u[6]=i,u[7]=s):s=u[7];let b=p?"Hide templates":"Show templates";return u[8]===Symbol.for("react.memo_cache_sentinel")?(l={border:"1px solid transparent"},u[8]=l):l=u[8],u[9]!==p?(c=p?(0,a.jsx)(j.XIcon,{}):(0,a.jsx)(j.LightBulbIcon,{}),u[9]=p,u[10]=c):c=u[10],u[11]!==b||u[12]!==c||u[13]!==g?(d=(0,a.jsx)(_.l,{className:"d-flex flex-column flex-justify-end",children:(0,a.jsx)(_.l.Item,{"aria-label":b,"data-testid":"toggle-templates",className:"fgColor-muted d-inline-block width-auto flex-justify-end mx-0",style:l,onSelect:g,children:c})}),u[11]=b,u[12]=c,u[13]=g,u[14]=d):d=u[14],u[15]!==t||u[16]!==s||u[17]!==d?(h=(0,a.jsxs)("div",{ref:t,className:"d-inline-flex flex-justify-between position-absolute bgColor-default right-0 left-0 bottom-0 ml-2 mr-3",style:n,children:[s,d]}),u[15]=t,u[16]=s,u[17]=d,u[18]=h):h=u[18],h});try{C.displayName||(C.displayName="PersonalInstructionsTemplates")}catch{}try{(n=PersonalInstructionsTemplatesWithRef).displayName||(n.displayName="PersonalInstructionsTemplatesWithRef")}catch{}let N=({onDismiss:e,returnFocusRef:t})=>{let r=(0,w.Pk)(),n=(0,y.b)(),[j,_]=(0,x.useState)(r.personalInstructions??""),[S,N]=(0,x.useState)(void 0),[I,k]=(0,x.useState)(!1),D=(0,x.useRef)(null),P=(0,x.useRef)(null),[R,L]=(0,x.useState)(""),A=((e,t)=>{let r,n,a=(0,o.c)(4),[s,l]=(0,x.useState)(48);return a[0]!==e||500!==a[1]?(r=()=>{let t=(0,i.s)(()=>{e?.current&&l(e.current.clientHeight??48)},500),r=new ResizeObserver(t);return e?.current&&r.observe(e.current),()=>{t.cancel(),r?.disconnect?.()}},n=[e,500],a[0]=e,a[1]=500,a[2]=r,a[3]=n):(r=a[2],n=a[3]),(0,x.useEffect)(r,n),s})(P);(0,d.N)(()=>{D?.current&&(D.current.scrollTop=D.current.scrollHeight)},[j]);let E=(0,x.useCallback)(async()=>{if(!I){k(!0),R&&(0,s.BI)("copilot_personal_instruction_template_usage",{content:R});try{let t=await (0,h.lS)("/copilot/personal_instructions",{method:"POST",body:{prompt:j}});if(t.ok)(0,s.BI)("dotcom_chat.activate",{target:"PERSONAL_INSTRUCTIONS_SAVE",mode:"immersive"}),n.dispatch({type:"SET_PERSONAL_INSTRUCTIONS",personalInstructions:j}),(0,b.flushSync)(()=>e());else{let e=await t.json();N(String(e.errorMessage))}}catch{N("An error occurred while saving your personal instructions.")}finally{k(!1)}}},[I,j,n,e,R]),T=(e,t)=>{t&&(_(j?`${j}
${t}`:t),L(e),D?.current?.focus())},V=()=>{E()},B=(0,x.useCallback)(()=>{(0,s.BI)("dotcom_chat.dismiss",{target:"PERSONAL_INSTRUCTIONS_DISMISS",mode:"immersive"}),(0,b.flushSync)(()=>e())},[e]);return(0,a.jsx)(u.Z,{children:(0,a.jsx)(g.l,{onClose:B,title:"Personal instructions",subtitle:"Set up Copilot to align with your workflows and preferences. These instructions will only impact your personal conversation.",width:"large",returnFocusRef:t,renderBody:()=>(0,a.jsx)(g.l.Body,{children:(0,a.jsx)("form",{onSubmit:E,children:(0,a.jsxs)(m.A,{children:[(0,a.jsx)(m.A.Label,{visuallyHidden:!0,children:"Instructions"}),(0,a.jsx)("div",{className:"width-full position-relative",children:(0,a.jsxs)(c.tL,{commands:{"github:submit-form":V},children:[(0,a.jsx)(p.Ay,{ref:D,className:"width-full",style:{paddingBottom:`${A}px`},"aria-label":"Prompt",rows:7,name:"prompt",placeholder:"Your instructions",value:j,validationStatus:S||j.length>4e3?"error":void 0,...(0,l.G)("prompt-input"),onChange:e=>{_(e.target.value),N(void 0)}}),(0,a.jsx)(C,{ref:P,onSelect:T})]})}),(0,a.jsx)(O,{text:j,promptCharLimit:4e3}),S&&(0,a.jsx)(m.A.Validation,{variant:"error",children:(0,a.jsx)("span",{...(0,l.G)("error-message"),children:S})})]})})}),renderFooter:()=>(0,a.jsxs)("div",{className:v.footerContainer,children:[(0,a.jsx)(f.Q,{variant:"default",onClick:B,children:"Cancel"}),(0,a.jsx)(f.Q,{loading:I,loadingAnnouncement:"Saving personal instructions",variant:"primary",onClick:E,children:"Save"})]})})})};function O(e){let t,r,n,i,s=(0,o.c)(10),{text:c,promptCharLimit:d}=e;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.G)("current-character-count"),s[0]=t):t=s[0],s[1]!==c.length?(r=(0,a.jsx)("span",{className:"text-tabular-nums",...t,children:c.length}),s[1]=c.length,s[2]=r):r=s[2],s[3]!==d||s[4]!==r?(n=(0,a.jsxs)(a.Fragment,{children:[r," ","/ ",d," characters"]}),s[3]=d,s[4]=r,s[5]=n):n=s[5];let h=n;return s[6]!==h||s[7]!==d||s[8]!==c.length?(i=(0,a.jsx)(a.Fragment,{children:c.length>d?(0,a.jsx)(m.A.Validation,{variant:"error",children:h}):(0,a.jsx)(m.A.Caption,{children:h})}),s[6]=h,s[7]=d,s[8]=c.length,s[9]=i):i=s[9],i}try{N.displayName||(N.displayName="PersonalInstructionsDialog")}catch{}try{O.displayName||(O.displayName="CharacterCount")}catch{}},45518:(e,t,r)=>{r.d(t,{X:()=>w});var n=r(74848),a=r(21728),o=r(38621),i=r(73451),s=r(19647),l=r(9591),c=r(46309),d=r(81679),h=r(87330),u=r(55847),m=r(16255),p=r(9852),f=r(96540),g=r(74244),x=r(47397);let b={Dialog:"PromptDialog-module__Dialog--s8Arq",systemInstructionsTextarea:"PromptDialog-module__systemInstructionsTextarea--ImhCS",temperatureFormControl:"PromptDialog-module__temperatureFormControl--WQLdS",toolsSectionHeader:"PromptDialog-module__toolsSectionHeader--RRrpT",deleteToolButton:"PromptDialog-module__deleteToolButton--weBVY"},w=e=>{let t,r,w,v,j,_,S,C,N,O,I,k,D,P,R,L,A,E,T,V,B,$,F,M=(0,a.c)(53),{onDismiss:W,promptDialogRef:z}=e,H=(0,x.b)(),U=g.Jt.settings,[G,q]=(0,f.useState)(U?.instructionPrompt||void 0);M[0]===Symbol.for("react.memo_cache_sentinel")?(t=U?.skillOverrides??[],M[0]=t):t=M[0];let[J,Q]=(0,f.useState)(t),[X,K]=(0,f.useState)(U?.temperature||.7),Y=(0,f.useRef)(void 0);M[1]!==H||M[2]!==W||M[3]!==G||M[4]!==X||M[5]!==J?(r=()=>{let e=J.filter(y);H.setCopilotSettings({instructionPrompt:G||"",skillOverrides:e,temperature:X}),W()},M[1]=H,M[2]=W,M[3]=G,M[4]=X,M[5]=J,M[6]=r):r=M[6];let Z=r;M[7]!==H?(w=async()=>{if(Y.current)return void q(Y.current);let e=await H.getSystemPrompt();Y.current=e,q(e)},M[7]=H,M[8]=w):w=M[8];let ee=w;M[9]!==ee||M[10]!==G?(v=()=>{(async()=>{void 0===G&&await ee()})()},M[9]=ee,M[10]=G,M[11]=v):v=M[11],M[12]!==ee||M[13]!==H||M[14]!==G?(j=[ee,H,G],M[12]=ee,M[13]=H,M[14]=G,M[15]=j):j=M[15],(0,f.useEffect)(v,j),M[16]!==ee?(_=()=>{ee(),Q([]),K(.7)},M[16]=ee,M[17]=_):_=M[17];let et=_;return M[18]===Symbol.for("react.memo_cache_sentinel")?(S=(0,n.jsx)(i.A.Label,{children:"System Instructions"}),M[18]=S):S=M[18],M[19]===Symbol.for("react.memo_cache_sentinel")?(C=(0,n.jsx)(i.A.Caption,{children:(0,n.jsx)("span",{children:"Make adjustments to the system instructions or add new instructions."})}),M[19]=C):C=M[19],M[20]===Symbol.for("react.memo_cache_sentinel")?(N=e=>q(e.target.value),M[20]=N):N=M[20],M[21]!==G?(O=(0,n.jsxs)(i.A,{children:[S,C,(0,n.jsx)(s.Ay,{block:!0,"aria-label":"Prompt",name:"Prompt",value:G,onChange:N,className:b.systemInstructionsTextarea})]}),M[21]=G,M[22]=O):O=M[22],M[23]===Symbol.for("react.memo_cache_sentinel")?(I=(0,n.jsx)(i.A.Label,{children:"Temperature"}),k=(0,n.jsx)(i.A.Caption,{children:"Controls the randomness of the model's responses. Lower temperatures are more deterministic, while higher temperatures are more random."}),M[23]=I,M[24]=k):(I=M[23],k=M[24]),M[25]===Symbol.for("react.memo_cache_sentinel")?(D=e=>K(Number(e.target.value)),M[25]=D):D=M[25],M[26]!==X?(P=(0,n.jsxs)(i.A,{className:b.temperatureFormControl,children:[I,k,(0,n.jsx)(l.A,{type:"number",min:"0",max:"1",step:"0.01",block:!0,value:X,onChange:D})]}),M[26]=X,M[27]=P):P=M[27],M[28]===Symbol.for("react.memo_cache_sentinel")?(R=(0,n.jsx)("div",{className:b.toolsSectionHeader,children:"Tools"}),M[28]=R):R=M[28],M[29]!==J?(L=J.map((e,t)=>(0,n.jsxs)(f.Fragment,{children:[(0,n.jsxs)(c.B,{direction:"horizontal",className:"py-2",children:[(0,n.jsxs)(i.A,{children:[(0,n.jsx)(i.A.Label,{children:"Name"}),(0,n.jsx)(i.A.Caption,{children:(0,n.jsx)("span",{children:"Slug of tool you want to adjust"})}),(0,n.jsx)(l.A,{defaultValue:e.slug,onChange:e=>{J.map((r,n)=>{n===t&&(r.slug=e.target.value)})}})]}),(0,n.jsxs)(i.A,{children:[(0,n.jsx)(i.A.Label,{children:"Description"}),(0,n.jsx)(i.A.Caption,{children:(0,n.jsx)("span",{children:"Make changes to the tool description"})}),(0,n.jsx)(l.A,{defaultValue:e.description,onChange:r=>{J.map((n,a)=>{a===t&&(e.description=r.target.value)})}})]}),(0,n.jsxs)(i.A,{children:[(0,n.jsx)(i.A.Label,{id:"toggle",children:"Enabled?"}),(0,n.jsx)(d.A,{size:"small","aria-labelledby":"toggle",defaultChecked:e.enabled,onChange:e=>{J.map((r,n)=>{n===t&&(r.enabled=e)})}})]}),(0,n.jsx)(h.K,{icon:o.TrashIcon,"aria-label":"Delete tool",variant:"invisible",onClick:()=>{let e=[...J];1===J.length?Q([]):(e.splice(t,1),Q(e))},className:b.deleteToolButton})]}),t===J.length-1&&(0,n.jsx)(u.Q,{leadingVisual:(0,n.jsx)(o.PlusIcon,{}),onClick:()=>Q([...J,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add another tool"})]},`tool-${e.slug}-${Math.random()}`)),M[29]=J,M[30]=L):L=M[30],M[31]!==J?(A=0===J.length&&(0,n.jsx)(u.Q,{leadingVisual:(0,n.jsx)(o.PlusIcon,{}),onClick:()=>Q([...J,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add a tool"}),M[31]=J,M[32]=A):A=M[32],M[33]!==O||M[34]!==P||M[35]!==L||M[36]!==A?(E=(0,n.jsxs)(p.l.Body,{children:[O,P,R,L,A]}),M[33]=O,M[34]=P,M[35]=L,M[36]=A,M[37]=E):E=M[37],M[38]!==W?(T={type:"button",onClick:W,content:"Cancel"},M[38]=W,M[39]=T):T=M[39],M[40]!==et?(V={type:"button",onClick:et,content:"Reset"},M[40]=et,M[41]=V):V=M[41],M[42]!==Z?(B={type:"button",onClick:Z,content:"Save",buttonType:"primary"},M[42]=Z,M[43]=B):B=M[43],M[44]!==T||M[45]!==V||M[46]!==B?($=(0,n.jsx)(p.l.Footer,{children:(0,n.jsx)(p.l.Buttons,{buttons:[T,V,B]})}),M[44]=T,M[45]=V,M[46]=B,M[47]=$):$=M[47],M[48]!==W||M[49]!==z||M[50]!==E||M[51]!==$?(F=(0,n.jsx)(m.Z,{children:(0,n.jsxs)(p.l,{ref:z,onClose:W,title:"Prompt Settings",width:"xlarge",className:b.Dialog,children:[E,$]})}),M[48]=W,M[49]=z,M[50]=E,M[51]=$,M[52]=F):F=M[52],F};try{w.displayName||(w.displayName="PromptDialog")}catch{}function y(e){return e.slug&&e.description}},34700:(e,t,r)=>{r.d(t,{X:()=>s});var n=r(74848),a=r(47139),o=r(56693),i=r(90735);let s=({children:e="Preview",feedbackUrl:t,className:r})=>(0,n.jsx)(i.V,{className:r,label:(0,n.jsx)(a.A,{variant:"success",children:e}),link:t?(0,n.jsx)(o.A,{feedbackUrl:t}):void 0});try{s.displayName||(s.displayName="BetaLabel")}catch{}}}]);
//# sourceMappingURL=ui_packages_copilot-chat_entry_ts-ui_packages_use-client-value_use-client-value_ts-ui_package-24032a-4e93b5449b41.js.map